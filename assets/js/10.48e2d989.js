(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{318:function(e,t,i){var s=i(1),a=i(378).entries;s({target:"Object",stat:!0},{entries:function(e){return a(e)}})},321:function(e,t,i){"use strict";i.r(t);i(170),i(24),i(309),i(465),i(97),i(171),i(169),i(174),i(70),i(308),i(318),i(10),i(402),i(43),i(377),i(173),i(71),i(98);var s=i(319),a=i(72),n=i(306),o=i.n(n),r=i(403),l=i.n(r),d=i(380),c=i(313),u=i(314),m=i(381),h=i(358),p=i(315),f=i(335),y=i(307),g=i(325),b=i(382),v=i.n(b),_=i(320),C=i(366),w=i(367),$=i(397),O=i(365),M=i(323),A=i(317),R=(i(405),{mode:"local",dataPaginationMode:"local",defaultOptions:!0,url:null,columns:null,createPath:null,viewPath:null,editPath:null,queryParams:{},stats:!1,autoRefresh:!1,autoRefreshInterval:20,initialDisplayMode:"table",detailPageMode:"sidebar",detailPageLayout:null,columnsDisplayed:10}),k={displayFields:[],imageField:"",titleField:"",subtitleField:"",descriptionField:""},P={name:"AwesomeCrud",introduction:"A component to quickly create a table UI with edit capabilities",description:"This component create tables and forms edit data based on a json schema.",components:{AwesomeTable:_.a,EnyoCrudStatsSection:C.a,AwesomeForm:w.a,AwesomeList:$.a,AwesomeKanban:O.a,AwesomeActionList:M.a},mixins:[f.a,y.a,c.a,u.a,m.a,h.a,d.a,p.a],props:{title:{type:[String,Boolean],required:!1,default:void 0},pageTitle:{type:[String,Boolean],required:!1,default:void 0},name:{type:[String,Boolean],required:!1,default:void 0},namePlural:{type:[String,Boolean],required:!1,default:void 0},modelName:{type:String,required:!1,note:"Deprecated use identity"},identity:{type:String,required:!0,note:"Deprecated use identity"},model:{type:Object,required:!1,default:void 0,note:"The object that will be used for managing the component. it contains the schema along with some other options. If no provided i can be reconstructed if we have the schema prop."},schema:{type:Object,required:!1,default:void 0,note:"The json schema that represent the object to display. this is used to create. Must be provided if no model definition is available"},layout:{type:[Object,Array],required:!1,default:function(){return[]},note:"The layout of the create/edit/view pages"},crudNeedsRefresh:{type:Boolean,default:!1,note:"Define whether the content of the table list should be refreshed"},needsRefresh:{type:Boolean,default:!1,note:"Define whether the content of the component should be refreshed"},nestedSchemas:{type:Array,required:!1,default:function(){return[]},note:"@deprecated, use `nestedModels`"},nestedModels:{type:Array,required:!1,default:function(){return[]},note:"An array describing the data that is linked to the nested model. Serves for displaying a detailed object"},nestedDisplayMode:{type:String,required:!1,values:["view","edit","object","table"],note:"In case of a nested schema, this parameter determines whether the component should be rendered as a list or a form. Exemple a list of posts with a comments as a nested should display a table, whereas the author info should display as an object..."},nestedLayoutMode:{type:String,required:!1,default:"horizontal-tabs",values:["horizontal-tabs","vertical-tabs","list"],note:"In case of a nested schema, this parameter determines how the nested the models should be rendered. Exemple a list of posts with a comments as a nested should display a table, whereas the author info should display as an object..."},parent:{type:Object,required:!1,note:"The object containing the parent in case of a nested schema.\n        'You don't actually to pass this, it's done automatically by the parent component itself"},parentIdentity:{type:String,required:!1,description:"The identity of the parent"},useRouterMode:{type:Boolean,required:!1,default:!0,node:"Controls if the actions (create / edit / view)  should update the current route url"},translations:{type:Object,required:!1,default:function(){return{AwesomeCrud:{labels:{manageTitle:"Manage"},buttons:{view:"View",cancel:"Cancel"}}}},note:"Translation labels to use when vue-i18n is not present"},options:{type:Object,default:function(){return{}}},listOptions:{type:Object,default:function(){return k}},kanbanOptions:{type:Object,default:function(){return{}}},actions:{type:Object,default:function(){return g.a},note:"actions active in this instance"},customTopRightActions:{type:Array,default:function(){return[]},note:"custom action in top right of awCrud"},customInlineActions:{type:Array,default:function(){return[]},note:"custom action in footer and in awTable row"},customBulkActions:{type:Array,default:function(){return[]},note:"custom action for bulk"},customTableTopActions:{type:Array,default:function(){return[]},note:"custom table top actions"},customFormTopActions:{type:Array,default:function(){return[]},note:"custom top action to display inside view and edit forms"},savePaginationState:{type:Boolean,default:!0,description:"Whether we should save the state of the navigation (page, filters, sort etc"},saveColumnsState:{type:Boolean,default:!0,description:"Whether we should save the state of the navigation (page, filters, sort etc"},tableRowClickAction:{type:String,default:"view",values:["view","edit","none","delete"],description:"The action to execute when the user clicks on a row"},tableRowDoubleClickAction:{type:String,default:"none",values:["view","edit","none","delete"],description:"The action to execute when the user double clicks on a row"},awFormDisplayHeader:{type:Boolean,default:!0,description:"Whether we should display the header (title) of awesomeform or not"},tableDataLimit:{type:Number,default:1e3,description:"Define the number of items to get from the api for the table. This prevents overloading the table with too much data"},segmentField:{type:String,title:"The field to use for segmenting the lists",description:"This field is used for segmenting the top section"},segment:{type:[Object,String],title:"The field to use for segmenting the lists",description:"This field is used for segmenting the top section"},scrollEventTarget:{type:String,title:"The selector to use for registering scroll events",description:"This prop is used for registering the scroll event (needed for sticky forms)"}},data:function(){return{parentPath:"",selectedItem:{},selectedItems:[],previousDisplayMode:"",displayMode:"table",isRefreshing:!1,tableNeedsRefresh:!1,awesomeEditNeedsRefresh:!1,statsNeedsRefresh:!1,nestedCrudNeedsRefresh:!1,internalOptions:{},innerNestedSchemas:[],activeNestedTab:"general",formOptions:{validateAsync:!1,validateAfterLoad:!1,validateAfterChanged:!0,fieldIdPrefix:"AwesomeCrud"},supportedDataDisplayModes:["table","list","kanban"],editLayoutMode:!1,itemsList:[],isSideformSticky:!1,scrollTarget:null,awFormWidth:null}},computed:{_title:function(){return this._model&&this._model.pageTitle?this.$te(this._model.pageTitle)?this.$t(this._model.pageTitle):this._model.pageTitle:this.title?this.$te(this.title)?this.$t(this.title):this.title:this._model&&this._model.singularName?this.$te(this._model.singularName)?this.$t(this._model.singularName):o.a.startCase(this._model.singularName):this.identity?this.$te("app.labels.".concat(this.identity))?this.$t("app.labels.".concat(this.identity)):o.a.startCase(this.identity):""},_titlePlural:function(){return this._model&&this._model.namePlural?this.$te(this._model.namePlural)?this.$t(this._model.namePlural):o.a.startCase(this._model.namePlural):this.title?this.$te(this.title+"s")?this.$t(this.title+"s"):this.title+"s":this.identity?this.$te("app.labels.".concat(this.identity,"s"))?this.$t("app.labels.".concat(this.identity,"s")):o.a.startCase(this.identity+"s"):""},_name:function(){return this._model&&this._model.name?this.$te(this._model.name)?this.$t(this._model.name):this._model.name:this.name?this.$te(this.name)?this.$t(this.name):this.name:this.identity?this.$te("app.labels.".concat(this.identity))?this.$t("app.labels.".concat(this.identity)):o.a.startCase(this.identity):""},_model:function(){return this.model||this.getModelFromStore(this.identity)},_namePlural:function(){return this._model&&this._model.namePlural?this.$te(this._model.namePlural)?this.$t(this._model.namePlural):o.a.startCase(this._model.namePlural):this.namePlural?this.$te(this.namePlural)?this.$t(this.namePlural):o.a.startCase(this.namePlural):this.identity?this.$te("app.labels.".concat(this.identity))?this.$t("app.labels.".concat(this.identity)):o.a.startCase(this.identity):""},schemaComputed:function(){return this.schema||this._model&&this._model.schema},formSchema:function(){return this.schemaComputed?this.parseSchema(this.schemaComputed):[]},listFieldsComputed:function(){var e=this.tableColumnsComputed,t=[];return this.listOptions&&Array.isArray(this.listOptions.fields)?(this.listOptions.fields.forEach((function(i){t.push(o.a.filter(e,["field",i]))})),t=o.a.flatten(t)):e},kanbanFieldsComputed:function(){var e=this.tableColumnsComputed,t=[];return this._kanbanOptions&&!Array.isArray(this._kanbanOptions.fields)?[]:(this._kanbanOptions.fields.forEach((function(i){t.push(o.a.filter(e,["field",i]))})),t=o.a.flatten(t))},tableColumnsComputed:function(){return this.parseColumns(this.schemaComputed.properties)},_layout:function(){return this.layout||this.model&&this.model.formOptions&&this.model.formOptions.layout},_createFormLayout:function(){return this.model&&this.model.formOptions&&this.model.formOptions.createLayout||this._layout},_editFormLayout:function(){return this.model&&this.model.formOptions&&this.model.editLayout||this._layout},createPageLayoutComputed:function(){return this.createPageLayout||this.model&&this.model.formOptions&&this.model.formOptions.createLayout||this._layout},viewPageLayoutComputed:function(){return this.viewPageLayout||this.model&&this.model.formOptions&&this.model.formOptions.viewPageLayout||this._layout},editPageLayoutComputed:function(){return this.editPageLayout||this.model&&this.model.formOptions&&this.model.formOptions.editPageLayout||this._layout},_actions:function(){var e=this,t=o.a.cloneDeep(this._actionsBeforeCalculation);return Object.entries(t).forEach((function(i){var s=Object(a.a)(i,2),n=s[0],o=s[1];"boolean"!=typeof o&&(t[n]=e.templateParseConditionalField(o))})),t},_actionsBeforeCalculation:function(){return o.a.merge({},g.a,this.actions||this.mergedOptions&&this.mergedOptions.actions)},_customFormTopActions:function(){return o.a.merge([],this.customFormTopActions.length&&this.customFormTopActions||this.mergedOptions&&this.mergedOptions.customFormTopActions)},_customInlineActions:function(){return o.a.merge([],this.customInlineActions.length&&this.customInlineActions||this.mergedOptions&&this.mergedOptions.customInlineActions)},_customTopRightActions:function(){return o.a.merge([],this.customTopRightActions.length&&this.customTopRightActions||this.mergedOptions&&this.mergedOptions.customTopRightActions)},_customTableTopActions:function(){return o.a.merge([],this.customTableTopActions.length&&this.customTableTopActions||this.mergedOptions&&this.mergedOptions.customTableTopActions)},_customBulkActions:function(){return o.a.merge([],this.customBulkActions.length&&this.customBulkActions||this.mergedOptions&&this.mergedOptions.customBulkActions)},_displayModeHasPartialDisplay:function(){return["modal","sidebar","sidebar-left","sidebar-right","fade","slide","sideform","bottomform"].indexOf(this.mergedOptions.detailPageMode)>-1},_kanbanOptions:function(){var e=this,t=o.a.merge({},g.b,this._model&&this._model.kanbanOptions,this.kanbanOptions);if(t.splittingField&&(!t.splittingValues||!t.splittingValues.length)&&this.tableColumnsComputed){var i=this.tableColumnsComputed.find((function(t){return t.field===e.segmentField}));i&&i.enum&&(t.splittingValues=i.enum)}return t},canShowCreateButton:function(){return this._actions.create&&!(["view","edit","create"].indexOf(this.displayMode)>-1&&"page"===this.mergedOptions.detailPageMode)},showEditFormComputed:function(){return this.identity&&("edit"===this.displayMode||"create"===this.displayMode||"bulkEdit"===this.displayMode||"bottomform"===this.mergedOptions.detailPageMode)},showViewFormComputed:function(){return this.identity&&"view"===this.displayMode},showItemsListSectionComputed:function(){return this.supportedDataDisplayModes.indexOf(this.displayMode)>-1||"page"!==this.mergedOptions.detailPageMode},currentItemIndex:function(){var e=this;return this.itemsList&&this.selectedItem&&o.a.findIndex(this.itemsList,(function(t){return t[e.primaryKey]==e.selectedItem[e.primaryKey]}))},hasPrevious:function(){return this.currentItemIndex>-1&&!!this.itemsList[this.currentItemIndex-1]},hasNext:function(){return this.currentItemIndex>-1&&!!this.itemsList[this.currentItemIndex+1]},dataPaginationModeComputed:function(){return this.mergedOptions.dataPaginationMode||this.mergedOptions.mode},segmentFieldDefinitionComputed:function(){var e,t=this;return this.formSchema&&this.formSchema.fields&&(e=this.formSchema.fields.find((function(e){return e.model===t.segmentField})))||this.tableColumnsComputed&&(e=this.tableColumnsComputed.find((function(e){return e.field===t.segmentField})))?e:""},showStatsSectionComputed:function(){return this.showItemsListSectionComputed&&this.mergedOptions.stats},isDetailPageModeCpt:function(){return"create"===this.displayMode||"view"===this.displayMode||"edit"===this.displayMode},displaySideFormContent:function(){return"sideform"===this.mergedOptions.detailPageMode&&this.isDetailPageModeCpt},displayBottomFormContent:function(){return"bottomform"===this.mergedOptions.detailPageMode},detailPageModeCpt:function(){return"sideform"===this.mergedOptions.detailPageMode||"bottomform"===this.mergedOptions.detailPageMode?"page":this.mergedOptions.detailPageMode},shouldShowCreateButtonCpt:function(){return this.canShowCreateButton&&!this._isANestedDetailView&&(this.supportedDataDisplayModes.includes(this.displayMode)||this._displayModeHasPartialDisplay&&"table"===this.mergedOptions.initialDisplayMode)},mergedOptions:{get:function(){var e=o.a.merge({},R,this._model&&this._model.options,this.options,this.internalOptions);return this.$route&&this.$route.query&&this.$route.query.filters&&(e.queryParams=o.a.merge(this.internalOptions.queryParams,{filters:this.$route.query.filters},{fields:this.$route.query.fields})),e},set:function(e){this.internalOptions=e}}},watch:{identity:"loadModel",model:"loadModel","parent.id":"loadModel",crudNeedsRefresh:"refreshComponent",needsRefresh:"refreshComponent","$route.params.id":"onRouteIdChanged"},created:function(){if(!this.$http)try{var e=i(324);this.$http=e}catch(e){}},mounted:function(){if(!this.identity)throw new Error("missing_required_props_identity");this.nestedSchemas&&this.nestedSchemas.length&&console.warn("@deprecated nestedSchemas is now nestedModels. Please use nested nestedModels"),this.internalOptions=o.a.cloneDeep(this.mergedOptions),this.loadModel(),this.displayMode=this.mergedOptions.initialDisplayMode,this._isNested&&this.nestedDisplayMode&&(this.displayMode=this.nestedDisplayMode);var e=this.scrollEventTarget?document.querySelector(this.scrollEventTarget):window;e&&(this.scrollTarget=e,this.scrollTarget.addEventListener("scroll",this.handleScroll)),this.$route&&this.useRouterMode&&(this.parentPath=this.$route.path,this.parentPath=this.parentPath.replace("/view","").replace("/edit","").replace("/:id",""),this.$forceUpdate(),this.initializeSelectedItem())},beforeRouteEnter:function(e,t,i){i((function(e){}))},beforeRouteLeave:function(e,t,i){i((function(e){e&&e.closeModal&&e.closeModal()}))},beforeRouteUpdate:function(e,t,i){this.useRouterMode&&t.params.id&&e.params.id,i()},methods:{$alert:v.a,refreshComponent:function(e,t){var i=this;e&&!1!==e&&(this.identity&&this.loadModel(),this.tableNeedsRefresh=!0,this.statsNeedsRefresh=!0,this.awesomeEditNeedsRefresh=!0,this.nestedCrudNeedsRefresh=!0,setTimeout((function(){i.tableNeedsRefresh=!1,i.statsNeedsRefresh=!1,i.nestedCrudNeedsRefresh=!1,i.$emit("update:crudNeedsRefresh",!1),i.$emit("input:crudNeedsRefresh",!1),i.$emit("input:needs-refresh",!1)}),100))},onTableRefresh:function(){this.statsNeedsRefresh=!0},callbackFunctionForBAse64:function(e){},importResponse:function(e){var t=this;if(e.improperData&&0!==e.improperData.length||e.properData&&0!==e.properData.length){if(e.properData.length>0&&this.$awNotify({title:this.$t("common.messages.successfullyImported",{title:this._title}),type:"success"}),e.improperData.length>0){var i="";e.improperData.forEach((function(e){i+=" - ".concat(Object.values(e).join(" | "),", ")})),i=i.substring(0,i.length-2),setTimeout((function(){t.$awNotify({title:"".concat(e.improperData.length," ").concat(t.$t("common.messages.not_imported",{title:t._title})),message:i,type:"warning",timeout:3e4})}),0)}this.tableNeedsRefresh=!0,this.statsNeedsRefresh=!0,this.nestedCrudNeedsRefresh=!0,this.$forceUpdate()}else v.a.fire({title:this.$t("common.messages.no_data_imported",{title:this._title}),type:"warning"})},exportTemplateCallBack:function(){var e=this;this.mergedOptions.importUrl?this.$http.get(this.mergedOptions.importUrl+"-template",{}).then((function(t){if(t.data.url){var i=document.createElement("a");i.download="".concat(e.identity,"_export"),i.href=t.data.url,i.click(),i.remove()}})).catch(this.apiErrorCallback):this.$awNotify({title:"[WARN] missing export url",type:"warning"})},loadModel:function(){var e=this;if(this._model||this.schema){if(this.mergedOptions.columns=this.parseColumns(this.schemaComputed.properties),this.mergedOptions.exportUrl||(this.mergedOptions.exportUrl="".concat(this._url,"/export")),this.mergedOptions.importUrl||(this.mergedOptions.importUrl="".concat(this._url,"/import")),this.parent&&"object"===this.nestedDisplayMode&&this.nestedViewFunction(),this.parent&&(this.nestedCrudNeedsRefresh=!0),!this.parent||"view"!==this.nestedDisplayMode&&"edit"!==this.nestedDisplayMode&&"object"!==this.nestedDisplayMode||this.getNestedItem().then((function(){"view"===e.nestedDisplayMode||e.nestedDisplayMode,"edit"===e.nestedDisplayMode&&e.$alert.fire({title:e.$t("Nested editing of object is not allowed yet...",{title:e.modelName}),type:"success"})})),this._url&&this.useRouterMode&&this.$route&&this.$route.params){if("new"===this.$route.params.id||this.$route.path.endsWith("/new"))return this.setDisplayMode("create"),void this.$forceUpdate();this.$route.params.id&&this.$http.get("".concat(this._url,"/").concat(this.$route.params.id),{query:this.apiRequestPermanentQueryParams}).then((function(t){var i=e.$route.matched[e.$route.matched.length-1],s=e.apiResponseConfig.dataPath&&0!=e.apiResponseConfig.dataPath?o.a.get(t,e.apiResponseConfig.dataPath):t.data;-1!==i.path.indexOf("/edit")?e.setDisplayMode("edit",s):e.setDisplayMode("view",s),e.$forceUpdate()})).catch(this.apiErrorCallback).finally((function(){e.isRefreshing=!1}))}}else console.warn("AWESOME CRUD ERROR","model ".concat(this.identity," not found"))},getSelectEnumFromStore:function(e){return o.a.isString(e)&&0===e.indexOf("$store")?o.a.get(this.$store.state,e.replace("$store.","")):e},setDisplayMode:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{refresh:!0};if(["edit","view"].indexOf(e)>-1){this.$awEmit("aw-form-open");var s=Object.assign({},t);this.itemIndex=o.a.findIndex(this.itemList,s)}this.previousDisplayMode=this.displayMode||this.mergedOptions.initialDisplayMode,"bulkEdit"===e?(this.selectedItem={},this.selectedItems=t):(this.selectedItem=t,this.selectedItems=[]),this.displayMode=e,["table","list","kanban"].indexOf(e)>-1?(this.tableNeedsRefresh=i.refresh,this.selectedItem={}):this.awesomeEditNeedsRefresh=i.refresh},goToCreatePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{reset:!0,editLayoutMode:!1};if(this.mergedOptions.createPath)return this.$router.push(this.mergedOptions.createPath);e.reset&&(this.selectedItem=Object(A.createDefaultObject)(this.formSchema)),e.editLayoutMode&&(this.editLayoutMode=e.editLayoutMode),this.$route.query.item&&(this.selectedItem=o.a.merge(this.selectedItem,this.$route.query.item)),this.setDisplayMode("create",this.selectedItem),this.useRouterMode&&!e.reset&&this.$router.push("".concat(this.parentPath,"/new?").concat(l.a.stringify(this.$route.query)))},goToBulkEditPage:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.mergedOptions.bulkEditPath)return this.$router.push(this.mergedOptions.bulkEditPath);this.setDisplayMode("bulkEdit",e)},goToDeletePage:function(e){if(this.mergedOptions.createPath)return this.$router.push(this.mergedOptions.deletePath.replace(":id",e[this.primaryKey]).replace("{{id}}",e[this.primaryKey]));this.deleteFunction(e)},goToBulkDeletePage:function(e){this.bulkDeleteFunction(e)},goToEditPage:function(e){if(this.mergedOptions.editPath)return this.$router.push(this.mergedOptions.editPath.replace(":id",e[this.primaryKey]).replace("{{id}}",e[this.primaryKey]));this.useRouterMode&&this.$router.push("".concat(this.parentPath,"/").concat(e[this.primaryKey],"/edit")),this.setDisplayMode("edit",e)},goToViewPage:function(e){if(e){if(this.mergedOptions.viewPath)return e&&e[this.primaryKey]?this.$router.push(this.mergedOptions.viewPath.replace(":id",e[this.primaryKey]).replace("{{id}}",e[this.primaryKey])):this.$router.push(this.mergedOptions.viewPath);this.useRouterMode&&this.$router.push("".concat(this.parentPath.replace(":id",""),"/").concat(e[this.primaryKey])),this.setDisplayMode("view",e)}},nestedViewFunction:function(){var e=this;this.displayMode="view",this.$http.get("".concat(this._url)).then((function(t){e.selectedItem=e.apiResponseConfig.dataPath&&0!=e.apiResponseConfig.dataPath?o.a.get(t,e.apiResponseConfig.dataPath):t.data,e.nestedCrudNeedsRefresh=!0})).catch(this.apiErrorCallback).finally((function(){e.isRefreshing=!1}))},bulkEditFunction:function(e){var t=this;this.$http.put("".concat(this._url,"/").concat(e[this.primaryKey]),e).then((function(e){t.$emit(t.identity+"-item-updated",e.data),v.a.fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,title:t.$t("AwesomeDefault.messages.successfullyModified",{title:t.type}),type:"success"}),t.tableNeedsRefresh=!0,t.nestedCrudNeedsRefresh=!0,t.$forceUpdate()})).catch(this.apiErrorCallback).finally((function(){t.isRefreshing=!1}))},bulkDeleteFunction:function(e){var t=this;v.a.fire({title:this.$t("AwesomeDefault.messages.are_you_sure"),text:this.$t("AwesomeDefault.messages.wont_be_able_recover"),type:"warning",showCancelButton:!0,confirmButtonColor:"var(--primary)",cancelButtonColor:"#eee",confirmButtonText:this.$t("AwesomeCrud.buttons.yes_delete_it"),cancelButtonText:this.$t("AwesomeCrud.buttons.cancel"),reverseButtons:!0}).then((function(i){i.value&&e.forEach((function(e){t.selectedItem=e,t.$http.delete("".concat(t._selectedItemUrl)).then((function(){t.tableNeedsRefresh=!0,t.statsNeedsRefresh=!0,t.nestedCrudNeedsRefresh=!0,t.$forceUpdate()})).catch((function(e){console.error(e)})).finally((function(){t.isRefreshing=!1}))}))})).finally((function(){return t.selectedItem=null}))},deleteFunction:function(e){var t=this;this.selectedItem=e,v.a.fire({title:this.$t("AwesomeDefault.messages.are_you_sure"),text:this.$t("AwesomeDefault.messages.wont_be_able_recover"),type:"warning",showCancelButton:!0,confirmButtonColor:"var(--primary)",cancelButtonColor:"#eee",confirmButtonText:this.$t("AwesomeCrud.buttons.yes_delete_it"),cancelButtonText:this.$t("AwesomeCrud.buttons.cancel"),reverseButtons:!0}).then((function(e){e.value&&t.$http.delete("".concat(t._selectedItemUrl)).then((function(){t.tableNeedsRefresh=!0,t.statsNeedsRefresh=!0,t.nestedCrudNeedsRefresh=!0,t.$forceUpdate()})).catch((function(e){console.error(e)})).finally((function(){t.isRefreshing=!1}))})).finally((function(){return t.selectedItem=null}))},onCustomBulkAction:function(e){var t=e.action;return this.$emit(this.identity+"-custom-bulk-action",t),t&&t.action&&t.action(e,this)},onCustomListAction:function(e){var t=e.action;return this.$emit(this.identity+"-custom-list-action",t),t&&t.action&&t.action(e,this)},onRemoveList:function(e){},onListChanged:function(e){},onCardChanged:function(e,t){},onCardClicked:function(e){this.$emit("on-kanban-item-clicked",e),this.listItemClickedHandler(e)},onEditDisplayCancelled:function(e,t){var i=t.context,s=this.previousDisplayMode&&this.previousDisplayMode!==i&&this.previousDisplayMode!==this.displayMode?this.previousDisplayMode:this.mergedOptions.initialDisplayMode;if(this.useRouterMode){var a=this.parentPath.replace("/edit","");a="view"!==s?a.replace("".concat(e?e[this.primaryKey]:""),""):"".concat(this.parentPath,"/").concat(e?e[this.primaryKey]:""),this.$router.push(a)}this.setDisplayMode(s,e,{refresh:!1})},onViewDisplayCancelled:function(e){if(this.useRouterMode){var t=this.parentPath.replace("/edit","").replace("/:id","").replace("".concat(e?e[this.primaryKey]:""),"");this.$router.push(t)}var i=this.previousDisplayMode&&"edit"!==this.previousDisplayMode&&this.previousDisplayMode!==this.displayMode?this.previousDisplayMode:this.mergedOptions.initialDisplayMode;this.setDisplayMode(i,e,{refresh:!1})},onItemCreated:function(e){this.setDisplayMode(this.mergedOptions.initialDisplayMode,e)},onItemsBulkEdited:function(e){this.bulkEditFunction(e)},onItemEdited:function(){this.$awEmit("aw-table-needs-refresh")},onItemDeleted:function(){},onItemViewed:function(){},onItemValidated:function(){},onItemValidationFailed:function(){},onListUpdated:function(e){this.$emit("list-updated",e),this.$emit(this.identity+"-list-updated",e)},onTableRowClicked:function(e){var t=e.column,i=e.row;t&&(["url","relation","ACTIONS"].indexOf(t.type)>-1||"__ACTIONS"===t.field)||(this.$emit("on-table-row-clicked",i),this.listItemClickedHandler(i))},onTableRowDoubleClicked:function(e){var t=e.column,i=e.row;t&&(["url","relation","ACTIONS"].indexOf(t.type)>-1||"__ACTIONS"===t.field)||(this.$emit("on-table-row-double-clicked",i),this.listItemDoubleClickedHandler(i))},onDataChanged:function(e){this.itemsList=e.data},updateAutoRefresh:function(e){this.mergedOptions.autoRefresh=e},onListItemClicked:function(e){this.$emit("on-list-item-clicked",e),this.listItemClickedHandler(e)},confirm:function(e){return console.warn("confirm method is @deprecated => use $awConfirm"),this.$awConfirm(e)},onLayoutUpdated:function(e){this.$emit("layout-updated",e)},onLayoutFieldsUpdated:function(e){this.$emit("layout-fields-updated",e)},onOpenEditLayoutMode:function(){this.editLayoutMode=!0},onCloseEditLayoutMode:function(){this.editLayoutMode=!1},selectPreviousItem:function(){this.hasPrevious&&this.itemsList[this.currentItemIndex-1]&&(this.selectedItem=this.itemsList[this.currentItemIndex-1],this.useRouterMode&&this.$router.push("".concat(this.parentPath,"/").concat(this.selectedItem[this.primaryKey])))},selectNextItem:function(){this.hasNext&&this.itemsList[this.currentItemIndex+1]&&(this.selectedItem=this.itemsList[this.currentItemIndex+1],this.useRouterMode&&this.$router.push("".concat(this.parentPath,"/").concat(this.selectedItem[this.primaryKey])))},onCustomAction:function(e){var t=e.action;return this.$emit(this.identity+"-custom-action",t),t&&t.action&&t.action(e,this)},getNestedItem:function(){var e=this;return this.$http.get("".concat(this._url)).then((function(t){e.selectedItem=e.responseField&&0!=e.responseField?o.a.get(t.data,e.responseField):t.data})).catch(this.apiErrorCallback).finally((function(){e.isRefreshing=!1}))},forwardEvent:function(){this.$emit.apply(this,arguments)},listItemClickedHandler:function(e){switch(this.tableRowClickAction){case"edit":if(this._actions&&!this._actions.edit)return;this.goToEditPage(e);break;case"view":if(this._actions&&!this._actions.view)return;this.goToViewPage(e)}},listItemDoubleClickedHandler:function(e){switch(this.tableRowDoubleClickAction){case"edit":if(this._actions&&!this._actions.edit)return;this.goToEditPage(e);break;case"view":if(this._actions&&!this._actions.view)return;this.goToViewPage(e);break;case"none":break;default:this.listItemClickedHandler(e)}},onRouteIdChanged:function(e,t){this.useRouterMode&&e&&t&&t!==e&&this.setDisplayMode(this.displayMode,Object(s.a)({},this.primaryKey,this.$route.params.id))},initializeSelectedItem:function(){this.$route.params.id&&(this.parentPath=this.parentPath.replace("/".concat(this.$route.params.id),"").replace("/:id",""),"create"===this.$route.params.id||"new"===this.$route.params.id?(delete this.$route.params.id,this.$route.query.item&&(this.selectedItem=o.a.merge(this.selectedItem,this.$route.query.item)),this.goToCreatePage({reset:!1}),this.parentPath=this.parentPath.replace("/edit","").replace("/".concat(this.$route.params.id),"").replace("/:id","")):(this.selectedItem=Object(s.a)({},this.primaryKey,this.$route.params.id),this.$route.query.item&&(this.selectedItem=o.a.merge(this.selectedItem,this.$route.query.item))))},onSegmentChange:function(){},handleScroll:function(e){if("sideform"===this.mergedOptions.detailPageMode&&this.scrollTarget){var t=this.scrollTarget.querySelector(".aw-form");this.scrollTarget&&this.scrollTarget.scrollTop>80?(this.awFormWidth=t.offsetWidth,this.isSideformSticky=!0,t&&(t.style="width: ".concat(this.awFormWidth,"px; text-align:right; float: right"))):(this.isSideformSticky=!1,t&&(t.style=""))}}},beforeDestroy:function(){this.$awEventBus&&this.$awEventBus.$off("aw-table-needs-refresh"),this.scrollTarget.removeEventListener("scroll",this.handleScroll)}},I=(i(435),i(42)),L=Object(I.a)(P,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"content aw-crud",class:"aw-crud-mode-"+e.displayMode},[i("div",{staticClass:"container-fluid"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 awesomecrud-stats-section"},[e.showStatsSectionComputed?i("div",{staticClass:"row"},[i("EnyoCrudStatsSection",{attrs:{url:e._url+"/stats",entity:e.identity,identity:e.identity,"stats-needs-refresh":e.statsNeedsRefresh},on:{"update:statsNeedsRefresh":function(t){e.statsNeedsRefresh=t},"update:stats-needs-refresh":function(t){e.statsNeedsRefresh=t}}})],1):e._e()]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showItemsListSectionComputed,expression:"showItemsListSectionComputed"}],staticClass:"awesomecrud-list-table-section",class:e.displaySideFormContent?"col-6":"col-12"},[!e._isANestedDetailView&&("table"===e.displayMode||e._displayModeHasPartialDisplay&&"table"===e.mergedOptions.initialDisplayMode)&&e.dataPaginationModeComputed?i("AwesomeTable",e._b({attrs:{actions:e._actionsBeforeCalculation,"api-query-headers":e.mergedOptions.headerParams,"api-query-params":e.mergedOptions.queryParams,apiRequestConfig:e.apiRequestConfig,apiResponseConfig:e.apiResponseConfig,"auto-refresh-interval":e.mergedOptions.autoRefreshInterval,"auto-refresh":e.mergedOptions.autoRefresh,collapsible:!1,"columns-displayed":e.mergedOptions.columnsDisplayed,columns:e.tableColumnsComputed,"custom-bulk-actions":e._customBulkActions,"custom-inline-actions":e._customInlineActions,"custom-table-top-actions":e._customTableTopActions,entity:e.identity,"export-url":e.mergedOptions.exportUrl,limit:e.tableDataLimit,mode:e.dataPaginationModeComputed,"needs-refresh":e.tableNeedsRefresh,"nested-crud-needs-refresh":e.nestedCrudNeedsRefresh,options:e.mergedOptions,saveColumnsState:e.saveColumnsState,savePaginationState:e.savePaginationState,segment:e.segment,segmentField:e.segmentField,title:e._title||e.$t("AwesomeCrud.labels.manageTitle")+" "+e._titlePlural,url:e._url,useRouterMode:e.useRouterMode,uuid:"awtable-"+e.identity},on:{"update:needsRefresh":function(t){e.tableNeedsRefresh=t},"update:needs-refresh":function(t){e.tableNeedsRefresh=t},"update:nestedCrudNeedsRefresh":function(t){e.nestedCrudNeedsRefresh=t},"update:nested-crud-needs-refresh":function(t){e.nestedCrudNeedsRefresh=t},create:e.goToCreatePage,view:e.goToViewPage,edit:e.goToEditPage,delete:e.goToDeletePage,bulkDelete:e.goToBulkDeletePage,bulkEdit:e.goToBulkEditPage,customAction:e.onCustomAction,customBulkAction:e.onCustomBulkAction,"table-updated":e.onListUpdated,refresh:e.onTableRefresh,onRowClicked:e.onTableRowClicked,onRowDoubleClicked:e.onTableRowDoubleClicked,updateAutoRefresh:e.updateAutoRefresh,"data-changed":e.onDataChanged}},"AwesomeTable",e.$props,!1),[i("template",{slot:"table-header-right"},[i("div",{staticClass:"text-right"},[e._t("top-right-buttons",[e._customTopRightActions?[i("AwesomeActionList",{attrs:{actions:e._customTopRightActions,location:"topright","use-dropdown":e._customTopRightActions&&e._customTopRightActions.length>2},on:{customAction:e.onCustomAction}})]:e._e(),e._v(" "),!e.shouldShowCreateButtonCpt&&e._customTopRightActions&&e._customTopRightActions.length?e._e():i("button",{staticClass:"btn btn-outline-primary aw-button-add",class:e.shouldShowCreateButtonCpt?"visible":"invisible",attrs:{disabled:!e.canShowCreateButton,type:"button"},on:{click:function(t){return t.preventDefault(),e.goToCreatePage()}}},[i("i",{staticClass:"fa fa-plus text-primary"}),e._v("\n                  "+e._s(e.$t("AwesomeCrud.labels.createNew"))+"\n                ")])])],2)]),e._v(" "),i("template",{slot:"table-top-more-actions"},[e._actions.import?i("upload-button",{attrs:{name:"import",options:{upload:!0,targetUrl:e.mergedOptions.uploadUrl||e.mergedOptions.importUrl,method:"POST",headers:{},base64:!1,label:e.$t("AwesomeCrud.buttons.import"),class:"btn btn-main-style btn btn-simple text-success  btn-block"}},on:{uploaded:e.importResponse}}):e._e(),e._v(" "),e._actions.import?i("button",{staticClass:"btn text-info btn-link btn-alt-style btn-block",attrs:{type:"button"},on:{click:e.exportTemplateCallBack}},[i("i",{staticClass:"fa fa-file-excel"}),e._v("\n              "+e._s(e.$t("AwesomeCrud.buttons.excel-template"))+"\n            ")]):e._e(),e._v(" "),e.mergedOptions.useCustomLayout&&e._actions.editLayout?i("button",{staticClass:"btn btn-simple btn-default btn-block",attrs:{type:"button"},on:{click:function(t){return e.goToCreatePage({editLayoutMode:!0})}}},[i("i",{staticClass:"fa fa-th-large"}),e._v("\n              "+e._s(e.$t("AwesomeCrud.buttons.openEditLayoutMode"))+"\n            ")]):e._e()],1)],2):e._e(),e._v(" "),!e._isANestedDetailView&&("list"===e.displayMode||e._displayModeHasPartialDisplay&&"list"===e.mergedOptions.initialDisplayMode)?i("AwesomeList",e._b({attrs:{actions:e._actionsBeforeCalculation,"api-query-headers":e.mergedOptions.headerParams,"api-query-params":e.mergedOptions.queryParams,apiRequestConfig:e.apiRequestConfig,apiResponseConfig:e.apiResponseConfig,"auto-refresh-interval":e.mergedOptions.autoRefreshInterval,"auto-refresh":e.mergedOptions.autoRefresh,columns:e.listFieldsComputed,descriptionField:e.listOptions?e.listOptions.descriptionField:"",displayFields:e.listOptions?e.listOptions.displayFields:[],"export-url":e.mergedOptions.exportUrl,identity:e.identity,imageClasses:e.listOptions&&e.listOptions.imageClasses,imageField:e.listOptions&&e.listOptions.imageField,imageStyles:e.listOptions&&e.listOptions.imageStyles,mode:e.dataPaginationModeComputed,"needs-refresh":e.tableNeedsRefresh,"nested-crud-needs-refresh":e.nestedCrudNeedsRefresh,options:e.mergedOptions,perPage:10,segment:e.segment,segmentField:e.segmentField,styles:{listWrapperClasses:"row",itemWrapperClasses:"col-3"},subtitleField:e.listOptions.subtitleField,title:e._title||e.$t("AwesomeCrud.labels.manageTitle")+" "+e._titlePlural,titleField:e.listOptions.titleField,url:e._url,useRouterMode:e.useRouterMode},on:{"update:needsRefresh":function(t){e.tableNeedsRefresh=t},"update:needs-refresh":function(t){e.tableNeedsRefresh=t},"update:nestedCrudNeedsRefresh":function(t){e.nestedCrudNeedsRefresh=t},"update:nested-crud-needs-refresh":function(t){e.nestedCrudNeedsRefresh=t},itemClicked:e.onListItemClicked}},"AwesomeList",e.listOptions,!1),[i("template",{slot:"list-header-right"},[e._customTopRightActions?[i("AwesomeActionList",{attrs:{actions:e._customTopRightActions,location:"topright","use-dropdown":e._customTopRightActions&&e._customTopRightActions.length>2},on:{customAction:e.onCustomAction}})]:e._e(),e._v(" "),!e.shouldShowCreateButtonCpt&&e._customTopRightActions&&e._customTopRightActions.length?e._e():i("button",{staticClass:"btn btn-outline-primary aw-button-add",class:e.shouldShowCreateButtonCpt?"visible":"invisible",attrs:{disabled:!e.canShowCreateButton,type:"button"},on:{click:function(t){return t.preventDefault(),e.goToCreatePage()}}},[i("i",{staticClass:"fa fa-plus text-primary"}),e._v("\n              "+e._s(e.$t("AwesomeCrud.labels.createNew"))+" "+e._s(e._name)+"\n            ")])],2)],2):e._e(),e._v(" "),!e._isANestedDetailView&&("kanban"===e.displayMode||e._displayModeHasPartialDisplay&&"kanban"===e.mergedOptions.initialDisplayMode)?i("AwesomeKanban",e._b({attrs:{title:e._title||e.$t("AwesomeCrud.labels.manageTitle")+" "+e._titlePlural,columns:e.kanbanFieldsComputed,fields:e._kanbanOptions.fields,identity:e.identity,url:e._url,"api-query-params":e.mergedOptions.queryParams,"api-query-headers":e.mergedOptions.headerParams,apiRequestConfig:e.apiRequestConfig,apiResponseConfig:e.apiResponseConfig,"needs-refresh":e.tableNeedsRefresh,"nested-crud-needs-refresh":e.nestedCrudNeedsRefresh,useRouterMode:e.useRouterMode,options:e._kanbanOptions.options,segment:e.segment,segmentField:e.segmentField},on:{"update:needsRefresh":function(t){e.tableNeedsRefresh=t},"update:needs-refresh":function(t){e.tableNeedsRefresh=t},"update:nestedCrudNeedsRefresh":function(t){e.nestedCrudNeedsRefresh=t},"update:nested-crud-needs-refresh":function(t){e.nestedCrudNeedsRefresh=t},customListAction:e.onCustomListAction,removeList:e.onRemoveList,listChanged:e.onListChanged,cardChanged:e.onCardChanged,cardClicked:e.onCardClicked}},"AwesomeKanban",e._kanbanOptions,!1)):e._e()],1),e._v(" "),i("div",{staticClass:"awesomecrud-detail-section",class:{"col-6":e.displaySideFormContent,"col-12":!e.displaySideFormContent,"sticky-form":e.displaySideFormContent&&e.isSideformSticky}},[e.displaySideFormContent&&e.isSideformSticky?i("button",{staticClass:"btn btn-outline-primary aw-button-add invisible",attrs:{disabled:!0,type:"button"}},[i("i",{staticClass:"fa fa-plus text-primary"})]):e._e(),e._v(" "),e.showViewFormComputed?i("AwesomeForm",e._b({attrs:{actions:e._actionsBeforeCalculation,"custom-inline-actions":e._customInlineActions,"custom-top-actions":e._customFormTopActions,"display-header":e.awFormDisplayHeader,displayMode:e.detailPageModeCpt,"edit-layout-mode":e.editLayoutMode,"has-next":e.hasNext,"has-previous":e.hasPrevious,identity:e.identity,item:e.selectedItem,layout:e.viewPageLayoutComputed,mode:e.displayMode,model:e._model,"needs-refresh":e.awesomeEditNeedsRefresh,"nested-crud-needs-refresh":e.nestedCrudNeedsRefresh,parent:e.parent,schema:e.schemaComputed,standalone:!1,url:e._url},on:{"update:needsRefresh":function(t){e.awesomeEditNeedsRefresh=t},"update:needs-refresh":function(t){e.awesomeEditNeedsRefresh=t},"update:nestedCrudNeedsRefresh":function(t){e.nestedCrudNeedsRefresh=t},"update:nested-crud-needs-refresh":function(t){e.nestedCrudNeedsRefresh=t},create:e.goToCreatePage,view:e.goToViewPage,nestedView:e.nestedViewFunction,edit:e.goToEditPage,delete:e.goToDeletePage,cancel:e.onViewDisplayCancelled,closeRequested:e.onViewDisplayCancelled,customAction:e.onCustomAction,beforeCreate:function(t){return e.forwardEvent.bind(this,"beforeCreate")},itemCreated:e.onItemCreated,itemEdited:e.onItemEdited,itemsBulkEdited:e.onItemsBulkEdited,itemDeleted:e.onItemDeleted,itemViewed:e.onItemViewed,itemValidated:e.onItemValidated,itemValidationFailed:e.onItemValidationFailed,"layout-updated":e.onLayoutUpdated,"layout-resetted":e.onLayoutUpdated,"layout-fields-updated":e.onLayoutFieldsUpdated,"open-edit-layout-mode":e.onOpenEditLayoutMode,"close-edit-layout-mode":e.onCloseEditLayoutMode,"aw-select-previous-item":e.selectPreviousItem,"aw-select-next-item":e.selectNextItem}},"AwesomeForm",e.$props,!1)):e._e(),e._v(" "),e.showEditFormComputed?i("AwesomeForm",e._b({attrs:{mode:e.displayBottomFormContent?"create":e.displayMode,model:e._model,schema:e.schemaComputed,identity:e.identity,displayMode:e.detailPageModeCpt,layout:"create"===e.displayMode?e.createPageLayoutComputed:e.editPageLayoutComputed,createPageLayoutComputed:"",item:e.selectedItem,"bulk-items":e.selectedItems,"needs-refresh":e.awesomeEditNeedsRefresh,"edit-layout-mode":e.editLayoutMode,standalone:!1,"display-header":e.awFormDisplayHeader,"has-previous":e.hasPrevious,"has-next":e.hasNext,actions:e._actionsBeforeCalculation,"custom-inline-actions":e._customInlineActions,"custom-top-actions":e._customFormTopActions},on:{"update:needsRefresh":function(t){e.awesomeEditNeedsRefresh=t},"update:needs-refresh":function(t){e.awesomeEditNeedsRefresh=t},create:e.goToCreatePage,view:e.goToViewPage,nestedView:e.nestedViewFunction,edit:e.goToEditPage,delete:e.goToDeletePage,cancel:e.onEditDisplayCancelled,closeRequested:e.onEditDisplayCancelled,customAction:e.onCustomAction,customBulkAction:e.onCustomBulkAction,itemCreated:e.onItemCreated,itemEdited:e.onItemEdited,itemsBulkEdited:e.onItemsBulkEdited,itemDeleted:e.onItemDeleted,itemViewed:e.onItemViewed,itemValidated:e.onItemValidated,itemValidationFailed:e.onItemValidationFailed,"layout-updated":e.onLayoutUpdated,"layout-resetted":e.onLayoutUpdated,"layout-fields-updated":e.onLayoutFieldsUpdated,"open-edit-layout-mode":e.onOpenEditLayoutMode,"close-edit-layout-mode":e.onCloseEditLayoutMode,"aw-select-previous-item":e.selectPreviousItem,"aw-select-next-item":e.selectNextItem}},"AwesomeForm",e.$props,!1)):e._e()],1)])])])}),[],!1,null,null,null);t.default=L.exports},328:function(e,t,i){"use strict";var s=i(1),a=i(375).trim;s({target:"String",proto:!0,forced:i(384)("trim")},{trim:function(){return a(this)}})},329:function(e,t,i){var s=i(8),a=i(4),n=i(102),o=i(376),r=i(9).f,l=i(73).f,d=i(176),c=i(104),u=i(180),m=i(14),h=i(2),p=i(30).set,f=i(179),y=i(3)("match"),g=a.RegExp,b=g.prototype,v=/a/g,_=/a/g,C=new g(v)!==v,w=u.UNSUPPORTED_Y;if(s&&n("RegExp",!C||w||h((function(){return _[y]=!1,g(v)!=v||g(_)==_||"/a/i"!=g(v,"i")})))){for(var $=function(e,t){var i,s=this instanceof $,a=d(e),n=void 0===t;if(!s&&a&&e.constructor===$&&n)return e;C?a&&!n&&(e=e.source):e instanceof $&&(n&&(t=c.call(e)),e=e.source),w&&(i=!!t&&t.indexOf("y")>-1)&&(t=t.replace(/y/g,""));var r=o(C?new g(e,t):g(e,t),s?this:b,$);return w&&i&&p(r,{sticky:i}),r},O=function(e){e in $||r($,e,{configurable:!0,get:function(){return g[e]},set:function(t){g[e]=t}})},M=l(g),A=0;M.length>A;)O(M[A++]);b.constructor=$,$.prototype=b,m(a,"RegExp",$)}f("RegExp")},332:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},358:function(e,t,i){"use strict";i(309);var s=i(306),a=i.n(s);t.a={props:{modelsStorePath:{type:String,default:function(){return this.awComponentsConfig&&this.awComponentsConfig.modelsStorePath||"data.models"},note:"Location of the array in the vuex state that contains all the models eg if you provide data.models => we will look ink this.$store.state.data.models"}},methods:{getModelFromStore:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t=t||this.modelsStorePath,this.$store&&this.$store.state)if(t){var i=a.a.get(this.$store,t)||a.a.get(this.$store.state,t);if(i&&Array.isArray(i))return i.find((function(t){return t.identity===e||t.modelName===e}))}else console.warn("[relationMixin][modelsStorePath] path not defined",t)},getRelationUrl:function(e){if(e.relationUrl||e.relation){if(e.relationUrl)return e.relationUrl;var t=this.getModelFromStore(e.relation);return t||console.warn("[relationMixin][raceCondition] model not found for",e.relation,"in",this.modelsStorePath),t?t.url||t.apiUrl:""}},getRelationKey:function(e){if(e.relationKey||e.relation){if(e.relationKey)return e.relationKey;if(e.foreignKey)return e.foreignKey;var t=this.getModelFromStore(e.relation);return t&&t.primaryKeyField||this.primaryKey}},getRelationLabel:function(e){if(e.relationLabel||e.relation){if(e.relationLabel)return e.relationLabel;var t=this.getModelFromStore(e.relation);return t&&t.displayField||"label"}}}}},359:function(e,t,i){},360:function(e,t,i){},361:function(e,t,i){},362:function(e,t,i){},363:function(e,t,i){},364:function(e,t,i){},365:function(e,t,i){"use strict";i(24),i(97),i(172),i(10),i(100),i(98);var s=i(35),a=i(306),n=i.n(a),o=i(307),r=i(333),l=i(313),d=(i(308),i(99),i(0)),c={name:"KanbanList",components:{AwesomeDisplay:i(326).a},mixins:[o.a],props:{id:{type:String,required:!0},title:{type:String,default:"Title"},items:{type:Array,default:function(){return[]}},group:{type:String,default:"default"},animation:{type:Number,default:200},scrollSensitivity:{type:Number,default:200},fields:{default:function(){return{image:"",title:"",subtitle:"",description:"",users:"",labels:""}}},columns:{type:Array,default:function(){return[]}},customListActions:{type:Array,default:function(){return[]}}},created:function(){this.$root.$options.components.Draggable||d.a.options.components.Draggable||console.error("`Draggable` is missing. Please install `vuedraggable` and register the component globally!")},data:function(){return{}},methods:{removeList:function(){this.$emit("remove-list",{id:this.id,title:this.title})},cardChanged:function(e){this.$emit("change",e,{id:this.id,title:this.title}),e&&(e.added&&this.$emit("cardAdded",e.added,{id:this.id,title:this.title}),e.removed&&this.$emit("cardRemoved",e.removed,{id:this.id,title:this.title}),e.moved&&this.$emit("cardMoved",e.moved,{id:this.id,title:this.title}))},getAllowedData:function(e){var t=this,i={};return Object.keys(e).forEach((function(s){t.columns.forEach((function(t){t.field===s&&(i=Object.assign(i,n.a.pick(e,[s])))}))})),i},getField:function(e){var t=n.a.filter(this.columns,["field",e]);return t[0]?t[0]:t},cardClicked:function(e){this.$emit("cardClicked",e)}},computed:{hasData:function(){return Object.keys(this.fields)||this.columns.length}}},u=(i(433),i(42)),m=Object(u.a)(c,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"list"},[i("div",{staticClass:"list-content"},[i("div",{staticClass:"list-header"},[i("div",{staticClass:"list-title"},[e._v("\n        "+e._s(e.title)+"\n      ")]),e._v(" "),i("div",{staticClass:"list-actions"},[i("div",{staticClass:"dropdown column"},[e._m(0),e._v(" "),i("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"filter"}},[e._l(e.customListActions,(function(t,s){return[i("a",{key:s,staticClass:"dropdown-item",class:t.class,attrs:{href:"#",id:t.name+"-"+s,"data-title":t.title||t.label,"data-tooltip":t.title||t.label},on:{click:function(i){return e.$emit("customListAction",{action:t,items:e.items,location:"",id:t.name+"-"+s})}}},[t.icon?i("i",{class:t.icon}):e._e(),e._v(" "),i("span",{domProps:{innerHTML:e._s(t.label?e.$t(t.label):"")}})])]})),e._v(" "),e.customListActions.length?i("div",{staticClass:"dropdown-divider"}):e._e(),e._v(" "),i("a",{staticClass:"dropdown-item text-danger",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.removeList(t)}}},[e._v(e._s(e.$t("AwesomeKanban.labels.removeList")))])],2)])])]),e._v(" "),i("div",{staticClass:"list-cards"},[i("Draggable",{staticClass:"draggable-card",attrs:{list:e.items,group:e.group,animation:e.animation,"ghost-class":"moving-card","scroll-sensitivity":e.scrollSensitivity},on:{change:e.cardChanged}},e._l(e.items,(function(t,s){return i("div",{key:s,staticClass:"card",on:{click:function(i){return e.cardClicked(t)}}},[e.fields&&e.fields.image&&t[e.fields.image]?i("img",{staticClass:"card-img-top",attrs:{src:t[e.fields.image],alt:t[e.fields.title]}}):e._e(),e._v(" "),i("div",{staticClass:"card-body"},[e.fields&&e.fields.users&&t[e.fields.users]?i("div",{staticClass:"pull-right"},e._l(t[e.fields.users],(function(e,t){return i("img",{key:t,staticClass:"kanban-user-img",attrs:{alt:e.label,title:e.label,src:e.src}})})),0):e._e(),e._v(" "),e.fields&&e.fields.title&&t[e.fields.title]?i("h5",{staticClass:"card-title"},[e._v("\n              "+e._s(t[e.fields.title])+"\n            ")]):e._e(),e._v(" "),e.fields&&e.fields.subtitle&&t[e.fields.subtitle]?i("h6",{staticClass:"card-subtitle mb-2 text-muted"},[e._v("\n              "+e._s(t[e.fields.subtitle])+"\n            ")]):e._e(),e._v(" "),e.fields&&e.fields.description&&t[e.fields.description]?i("p",{staticClass:"card-text"},[e._v("\n              "+e._s(t[e.fields.description])+"\n            ")]):e._e(),e._v(" "),e.fields&&e.fields.labels&&t[e.fields.labels]?i("div",{staticClass:"pull-right"},e._l(t[e.fields.labels],(function(t){return i("small",{key:t,staticClass:"badge badge-primary"},[e._v(e._s(t))])})),0):e._e(),e._v(" "),e.columns&&e.columns.length?e._l(e.getAllowedData(t),(function(t,s){return i("div",{key:s},[e._v("\n                "+e._s(s)+" :\n                "),i("AwesomeDisplay",{attrs:{type:e.getField(s).type,value:t,relation:e.getField(s).relation,"relation-label":e.getField(s).relationLabel,"relation-url":e.getField(s).relationUrl,"relation-key":e.getField(s).relationKey}})],1)})):e._e(),e._v(" "),e.hasData?e._e():i("p",{staticClass:"card-text"},[e._v(e._s(e.$t("AwesomeKanban.labels.noData")))])],2)])})),0)],1)])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("button",{staticClass:"btn btn-simple btn-alt-style btn-sm p-2",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t("i",{staticClass:"fa fa-ellipsis-h"})])}],!1,null,"176e3596",null).exports,h=i(325),p={name:"AwesomeKanban",components:{KanbanList:m},mixins:[o.a,l.a,r.a],props:{splittingField:{type:String},splittingValues:{type:Array},lists:{type:Array,default:function(){return[]}},columns:{type:Array,default:function(){return[]}},options:{type:Object,default:function(){return h.b}},actions:{type:Object,default:function(){return{refresh:!0,addList:!0}}}},data:function(){return{localLists:[],isAddingList:!1,newListName:"",isRefreshing:!1}},methods:{addList:function(){this.newListName&&(n.a.some(this.localLists,{title:this.newListName})||(this.localLists.push({title:this.newListName,content:[]}),this.newListName="",this.isAddingList=!1))},clearForm:function(){this.isAddingList=!1,this.newListName=""},editForm:function(){this.isAddingList=!0},onRemoveList:function(e){this.localLists=n.a.filter(this.localLists,(function(t){return t.title!==e})),this.$emit("removeList",e)},listChanged:function(e){this.$emit("listChanged",e)},onCardChanged:function(e,t){this.$emit("cardChanged",e,t)},onCardRemoved:function(e,t){this.$emit("cardRemoved",e,t)},onCardAdded:function(e,t){this.$emit("cardAdded",e,t)},onCardMoved:function(e,t){this.$emit("cardAdded",e,t)},onCardClicked:function(e){this.$emit("cardClicked",e)},handleLists:function(){if(this.lists&&this.lists.length)this.localLists=n.a.cloneDeep(this.lists);else if(this.data&&this.data.length){var e=[{title:this.entity,content:n.a.cloneDeep(this.data)}];this.localLists=n.a.cloneDeep(e)}this.filterLists(),this.orderCardInLists()},filterLists:function(){var e=this;this.splittingField&&this.splittingValues&&this.splittingValues.length&&this.splittingValues.forEach((function(t){var i=[];e.localLists.forEach((function(s){i.push(n.a.filter(s.content,[e.splittingField,t])),n.a.remove(s.content,(function(i){return i[e.splittingField]===t}))})),i=n.a.flatten(Object(s.a)(i)),n.a.some(e.localLists,{title:t.toString()})||e.localLists.push({title:t.toString(),content:i})}))},orderCardInLists:function(){var e=this,t=this.options.sortOrder?this.options.sortOrder.toLowerCase():"desc";this.options.sortField&&this.localLists.forEach((function(i){i.content.length>1&&(i.content=n.a.orderBy(i.content,(function(t){return t[e.options.sortField]}),[t]))}))},onCustomListAction:function(e){this.$emit("customListAction",e)}},created:function(){this.$root.$options.components.Draggable||console.error("`Draggable` is missing. Please install `vuedraggable` and register the component globally!")},mounted:function(){this.refreshLocalData(),this.handleLists()},computed:{titleComputed:function(){return this.title?this.$te(this.title)?this.$t(this.title):this.title:this._model&&this._model.singularName?this.$te(this._model.singularName)?this.$t(this._model.singularName):n.a.startCase(this._model.singularName):this.identity?this.$te("app.labels.".concat(this.identity))?this.$t("app.labels.".concat(this.identity)):n.a.startCase(this.identity):""}},watch:{lists:function(){this.handleLists()},data:function(){this.handleLists()},splittingField:function(){this.handleLists()},splittingValues:function(){this.handleLists()},"options.sortField":function(){this.orderCardInLists()},"options.sortOrder":function(){this.orderCardInLists()}}},f=(i(434),Object(u.a)(p,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"d-block"},[i("h4",[e._t("awesome-list-title",[e._v(e._s(e.titleComputed))]),e._v(" "),i("div",{staticClass:"btn-group btn-group-sm float-right awesome-list-buttons"},[e._t("kanban-top-actions"),e._v(" "),e.isRefreshing?i("div",{staticStyle:{"text-align":"center"}},[i("i",{staticClass:"fa fa-circle-o-notch fa-spin fa-2x fa-fw",staticStyle:{color:"#888","margin-left":"10px"}})]):e._e(),e._v(" "),i("div",{staticClass:"btn-group",attrs:{role:"group"}},[e.actions&&e.actions.refresh?i("button",{staticClass:"btn btn-simple",on:{click:function(t){return e.getItems()}}},[i("i",{class:"fa fa-refresh"+(e.isRefreshing?" fa-spin":"")}),e._v("\n            "+e._s(e.$t("AwesomeKanban.buttons.refresh"))+"\n          ")]):e._e()])],2)],2)]),e._v(" "),i("div",{staticClass:"awesome-kanban"},[i("Draggable",{staticClass:"draggable-list",attrs:{list:e.localLists,group:"lists",animation:e.options.animation,"ghost-class":"moving-list","scroll-sensitivity":e.options.scrollSensitivity,disabled:!e.options.moveList},on:{change:e.listChanged}},e._l(e.localLists,(function(t,s){return i("KanbanList",{key:s,attrs:{id:t.id||t.title,title:t.title,items:t.content,fields:e.options.fields,columns:e.columns,group:"card",animation:e.options.animation,"scroll-sensitivity":e.options.scrollSensitivity,disabled:!e.options.moveCard,"custom-list-actions":e.actions.customListActions},on:{"remove-list":e.onRemoveList,customListAction:e.onCustomListAction,change:e.onCardChanged,cardRemoved:e.onCardRemoved,cardAdded:e.onCardAdded,cardClicked:e.onCardClicked,cardMoved:e.onCardMoved}})})),1),e._v(" "),e.actions&&e.actions.addList?i("div",{staticClass:"card add-list",on:{click:function(t){return t.stopPropagation(),e.editForm(t)}}},[i("div",{staticClass:"card-body"},[e.isAddingList?e._e():i("div",{staticClass:"card-text"},[i("i",{staticClass:"fa fa-plus"}),e._v("\n          "+e._s(e.$t("AwesomeKanban.labels.addList"))+"\n        ")]),e._v(" "),e.isAddingList?i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.newListName,expression:"newListName"}],staticClass:"form-control",attrs:{type:"text",placeholder:e.$t("AwesomeKanban.labels.listName")},domProps:{value:e.newListName},on:{input:function(t){t.target.composing||(e.newListName=t.target.value)}}}),e._v(" "),i("button",{staticClass:"btn btn-simple btn-primary",attrs:{disabled:!e.newListName},on:{click:function(t){return t.stopPropagation(),e.addList(t)}}},[e._v("\n            "+e._s(e.$t("AwesomeKanban.labels.add"))+"\n          ")]),e._v(" "),i("button",{staticClass:"btn btn-xs btn-simple btn-primary",on:{click:function(t){return t.stopPropagation(),e.clearForm(t)}}},[i("i",{staticClass:"fa fa-times"})])]):e._e()])]):e._e()],1)])}),[],!1,null,null,null));t.a=f.exports},366:function(e,t,i){"use strict";i(69),i(318);var s=i(72),a=i(306),n=i.n(a),o=i(314),r=i(315),l={name:"EnyoCrudStatsSection",mixins:[o.a,r.a],components:{},props:{url:{type:String,default:""},entity:{type:String,default:""},statsNeedsRefresh:{type:Boolean,default:!1},store:{type:Array,default:function(){return[]}}},data:function(){return{colors:["card-black","card-purple","card-teal","card-blue","card-success","card-warning","card-info","card-primary","card-danger"],stats:[]}},watch:{statsNeedsRefresh:"getStats",url:"getStats",entity:"getStats"},created:function(){},mounted:function(){this.getStats()},beforeDestroy:function(){},methods:{getStats:n.a.debounce((function(){var e=this;this.$http.get(this.url,{}).then((function(t){if(console.warn("data",t.data),t&&t.data){var i=e.apiResponseConfig&&e.apiResponseConfig.dataPath?n.a.get(t,e.apiResponseConfig.dataPath):t.data;e.stats=i,Array.isArray(i)||(e.stats=Object.entries(i).map((function(e){var t=Object(s.a)(e,2),i=t[0],a=t[1];return{label:i,value:a.value||a,color:a.color,index:a.index}})))}})).catch((function(e){console.error(e)})),this.refreshCompleted()}),100,void 0),refreshCompleted:function(){this.$emit("update:statsNeedsRefresh",!1)},getColor:function(e){var t=this.colors.length;return this.stats[e]&&this.stats[e].class?this.stats[e].class:this.colors[e>=t?e%t:e]}}},d=i(42),c=Object(d.a)(l,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"col-12"},[i("div",{staticClass:"row"},[e._l(e.stats,(function(t,s){return[i("div",{key:t.label,staticClass:"filter-box col-md-3 cl-xs-6"},[i("div",{staticClass:"card card-statistics",class:t.color||e.getColor(s)},[i("div",{staticClass:"box text-center"},[i("h3",{staticClass:"font-light text-white mt-1"},[e._v("\n              "+e._s(t.value)+"\n            ")]),e._v(" "),i("h6",{staticClass:"text-white"},[e._v("\n              "+e._s(e.$t(t.label))+"\n            ")])])])])]}))],2)])}),[],!1,null,null,null);t.a=c.exports},367:function(e,t,i){"use strict";i(170),i(24),i(97),i(171),i(169),i(69),i(172),i(70),i(10),i(43),i(377),i(26),i(71),i(330),i(98),i(29),i(404),i(101);var s=i(44),a=i(310),n=i(306),o=i(382),r=i.n(o),l=i(380),d=i(313),c=i(314),u=i(381),m=i(358),h=i(315),p=i(307),f=i(325),y=(i(405),i(321)),g=i(396),b=i(323),v=i(317),_={mode:"local",url:null,columns:null,createPath:null,viewPath:null,editPath:null,bulkEditPath:null,queryParams:{},stats:!1,autoRefresh:!1,responseField:"body",useCustomLayout:!1},C={name:"AwesomeForm",introduction:"A component to forms from a json schema",components:{AwesomeCrud:y.default,AwesomeLayout:g.a,AwesomeActionList:b.a},mixins:[p.a,d.a,c.a,u.a,m.a,l.a,h.a],props:{item:{type:Object,required:!0},bulkItems:{type:Array,required:!1},title:{type:[String,Boolean],required:!1,default:void 0},pageTitle:{type:[String,Boolean],required:!1,default:void 0},name:{type:[String,Boolean],required:!1,default:void 0},namePlural:{type:[String,Boolean],required:!1,default:void 0},identity:{type:String,required:!0},modelName:{type:String,required:!1},standalone:{type:Boolean,required:!1,default:!0,description:"Defines whether the component is used as paart of another parent component\n        (usually AwesomeCrud) or alone. Some actions won't have the same behavior"},model:{type:Object,required:!1,default:void 0,note:"The object that will be used for managing the component. it contains the schema along with some other options. If no provided i can be reconstructed if we have the schema prop."},schema:{type:Object,required:!1,default:void 0,note:"The json schema that represent the object to display. this is used to create. Must be provided if no model definition is available"},needsRefresh:{type:[Boolean,String],default:!1,note:"Define whether the content of the table list should be refreshed"},nestedSchemas:{type:Array,required:!1,default:function(){return[]},note:"An array describing the data that is linked to the nested model. Serves for displaying a detailed object"},nestedModels:{type:Array,required:!1,default:function(){return[]},note:"An array describing the data that is linked to the nested model. Serves for displaying a detailed object"},parent:{type:Object,required:!1,note:"The object containing the parent in case of a nested schema.You don't actually to pass this, it's done automatically by the parent component itself"},parentIdentity:{type:String,required:!1,note:"The model identity of the parent."},nestedDisplayMode:{type:String,required:!1,default:"list",values:["view","edit","object","table"],note:"In case of a nested schema, this parameter determines whether the component should be rendered as a list or a form"},translations:{type:Object,required:!1,default:function(){return{AwesomeCrud:{labels:{manageTitle:"Manage"},buttons:{view:"View",cancel:"Cancel",close:"Close"}}}},note:"Translation labels to use when vue-i18n is not present"},mode:{type:String,required:!0,validator:function(e){return-1!==["create","edit","view","bulkEdit"].indexOf(e)},description:"Define what mode should the form be used in (create| edit | view | bulkEdit "},displayMode:{type:String,required:!1,default:"sidebar",node:"Manages the way the form is displayed. This field is relevant mostly when using Awesome form as part of AwesomeCrud.\n\n        'modal': Display as a modal\n        'fade': (legacy)  Display as a modal\n        'slide': (legacy)  Display as right size side menu\n        'sidebar':   Display as right size side menu\n        'sidebar-right':   Display as right size side menu\n        'sidebar-left':  Display as Left size side menu\n        'fullscreen':   Display as a full screen component\n        'page':   Display as an in page component\n      ",values:["modal","sidebar","page","fullscreen","sidebar-left","sidebar-right","sideform","fade","slide"],validator:function(e){return-1!==["modal","sidebar","page","fullscreen","sidebar-left","sidebar-right","sideform","fade","slide"].indexOf(e)}},useSimpleCreateForm:{type:Boolean,required:!1,default:!1,node:"If true then the create form will display only required attributes"},options:{type:Object,default:function(){return _}},actions:{type:Object,default:function(){return f.a},note:"actions active in this instance"},customInlineActions:{type:Array,default:function(){return[]},note:"custom action in footer and in awTable row"},customTopActions:{type:Array,default:function(){return[]},note:"custom top actions"},layout:{type:[Array,Object],note:"Layout of the form",default:function(){return[]}},editLayoutMode:{type:Boolean},useRouterMode:{type:Boolean,required:!1,default:!0,node:"Controls if the actions (create / edit / view)  should update the current route url"},updateRouter:{type:Boolean,required:!1,default:!0,node:"Controls if the actions (create / edit / view)  should update the current route url. @Deprecated, use `useRouterMode` instead."},nestedLayoutMode:{type:String,required:!1,default:"horizontal-tabs",values:["horizontal-tabs","vertical-tabs","list"],note:"In case of a nested schema, this parameter determines how the nested the models should be rendered. Exemple a list of posts with a comments as a nested should display a table, whereas the author info should display as an object..."},displayHeader:{type:Boolean,default:!0,node:"Controls if the the header of the modal or the page should be displayed"},hasNext:{type:Boolean,default:!1,note:"Controls if the next button should be displayed"},hasPrevious:{type:Boolean,default:!1,note:"Controls if the previous button should be displayed"},useCustomLayout:{type:Boolean,default:!1,note:"If the form layout can be changed"}},data:function(){return{AwesomeCrud:y.default,$modal:null,parentPath:"",selectedItem:{},isRefreshing:!1,nestedElementsNeedRefresh:!1,show:!1,showBackDrop:!1,mergedOptions:{},innerNestedModels:[],activeNestedTab:"general",formOptions:{validayeAsync:!0,validateAfterLoad:!1,validateAfterChanged:!0},nestedModelsCollapseState:{}}},computed:{_title:function(){return this.title?this.$te(this.title)?this.$t(this.title):this.title:this._model&&this._model.singularName?this.$te(this._model.singularName)?this.$t(this._model.singularName):Object(n.startCase)(this._model.singularName):this.identity?this.$te("app.labels.".concat(this.identity))?this.$t("app.labels.".concat(this.identity)):Object(n.startCase)(this.identity):""},_titlePlural:function(){return this._model&&this._model.namePlural?this.$te(this._model.namePlural)?this.$t(this._model.namePlural):Object(n.startCase)(this._model.namePlural):this.title?this.$te(this.title+"s")?this.$t(this.title+"s"):this.title+"s":this.identity?this.$te("app.labels.".concat(this.identity,"s"))?this.$t("app.labels.".concat(this.identity,"s")):Object(n.startCase)(this.identity+"s"):""},_name:function(){if(console.log("_name computed",this._model&&this._model.name,this._namePlural),this._model&&this._model.name){if(this.$te(this._model.name)){var e=this.$t(this._model.name);if("string"==typeof e)return e}return Object(n.startCase)(this._model.name)}return this.identity?this.$te("app.labels.".concat(this.identity))?this.$t("app.labels.".concat(this.identity)):Object(n.startCase)(this.identity):""},_namePlural:function(){return this._model&&this._model.namePlural?this.$te(this._model.namePlural)?this.$t(this._model.namePlural):Object(n.startCase)(this._model.namePlural):this.identity?this.$te("app.labels.".concat(this.identity))?this.$t("app.labels.".concat(this.identity)):Object(n.startCase)(this.identity):""},_selectedItemUrl:function(){var e;if(this.selectedItem&&this.selectedItem[this.primaryKey])return this._url.indexOf("?")>-1?(e=new URL(0===this._url.indexOf("http")?this._url:"http://localhost".concat(this._url)),e="".concat(e.pathname,"/").concat(this.selectedItem[this.primaryKey]).concat(e.search)):e="".concat(this._url,"/").concat(this.selectedItem[this.primaryKey]),e},_model:function(){return this.model||this.getModelFromStore(this.identity)},_mergedOptions:function(){var e=Object(n.merge)({},_,this.options,this._model.options);return this.options!==_&&(console.warn("options are diffrent from the basics",this.options),e=Object(n.merge)(e,this.options)),this.$route&&this.$route.query&&this.$route.query.filters&&(e.queryParams=Object(n.merge)(this.mergedOptions.queryParams||this.$route.query.filters)),e.exportUrl||(e.exportUrl="".concat(this._url,"/export")),e.importUrl||(e.importUrl="".concat(this._url,"/import")),e||{}},formSchema:function(){if(!this._schema)return[];var e=this.parseSchema(this._schema);return e.styleClasses="row",e.mode=this.mode,e.fields&&(e.fields=e.fields.map((function(t){return t.styleClasses&&-1!==t.styleClasses.indexOf("col-")||(t.styleClasses="".concat(t.styleClasses||""," col-12")),"bulkEdit"===e.mode&&(t.required=!1),t}))),e},simpleFormSchema:function(){var e=this.formSchema.fields.filter((function(e){return e.required}));return e.length||(e=this.formSchema.fields),Object(a.a)(Object(a.a)({},this.formSchema),{},{fields:e})},createFormSchema:function(){return this.useSimpleCreateForm?this.simpleFormSchema:this.formSchema},_actions:function(){return Object(n.merge)({},f.a,this.actions||this._mergedOptions&&this._mergedOptions.actions)},_formSchemaGrouped:function(){return{groups:[Object(a.a)(Object(a.a)({},this.formSchema),{},{legend:"home"})]}},_useCustomLayout:function(){return!(!this.useCustomLayout||!this.layout)},_editItemTile:function(){return this.selectedItem?this._model&&this._model.displayField&&this.selectedItem[this._model.displayField]?this.selectedItem[this._model.displayField]:this.selectedItem[this.primaryKey]?this.selectedItem[this.primaryKey]:"":""},_schema:function(){return this.schema||this._model&&this._model.schema},_shouldShowBackdrop:function(){return-1===["page","fullscreen","sideform"].indexOf(this.displayMode)&&this.show},_shouldHaveModalClasses:function(){return["fade","modal","fullscreen","sidebar","slide","sidebar-left","sidebar-right"].indexOf(this.displayMode)>-1},_shouldHaveSlideClasses:function(){return["sidebar","slide","sidebar-left","sidebar-right"].indexOf(this.displayMode)>-1},_getFieldsList:function(){var e=this,t=[];return this.formSchema.fields.forEach((function(i){var s=!1;e.layout&&Array.isArray(e.layout)&&e.layout.forEach((function(e){Object(n.includes)(e.fields,i.model)&&(s=!0)})),s||t.push(i.model)})),t},shouldDisplayHeaderCpt:function(){return!["page","sidebar","sideform"].includes(this.displayMode)||this.displayHeader}},watch:{name:"loadModel",identity:"loadModel",model:"loadModel",mode:"onModeChanged",options:"mergeOptions",item:"refreshComponent",needsRefresh:"refreshComponent"},created:function(){if(!this.$http)try{var e=i(324);this.$http=e}catch(e){}},mounted:function(){var e=this;if(this.openModalDebounced=Object(n.debounce)(this.openModal,300,{leading:!0}),this.nestedSchemas&&this.nestedSchemas.length&&console.warn("@deprecated nestedSchemas is now nestedModels. Please use nested nestedModels"),this.modelName&&(this.identity=this.modelName),this.nestedModels.forEach((function(t){e.$set(e.nestedModelsCollapseState,t.identity,!!t.initiallyCollapsed)})),this.item&&(this.selectedItem=this.item),this.loadModel(),"create"===this.mode&&(this.selectedItem=Object(v.createDefaultObject)(this.formSchema),this.selectedItem=Object(n.merge)(this.selectedItem,this.item)),this.nestedElementsNeedRefresh=!0,setTimeout((function(){e.nestedElementsNeedRefresh=!1}),100),this.$route&&this.useRouterMode){var t=this.$route.matched[this.$route.matched.length-1];if("create"===this.$route.params.id||"new"===this.$route.params.id||this.$route.path.endsWith("/new"))return"create"!==this.$route.params.id&&"new"!==this.$route.params.id||delete this.$route.params.id,this.$route.query.item&&(this.selectedItem=Object(n.merge)(this.selectedItem,this.$route.query.item)),void this.$emit("create",this.selectedItem,{reset:!1});if(this.$route.params.id){if("bulkEdit"===this.$route.params.id)return delete this.$route.params.id,this.$route.query.item&&(this.selectedItem=Object(n.merge)(this.selectedItem,this.$route.query.item)),void this.$emit("bulkEdit",this.selectedItem,{reset:!1});this.parentPath=t.path.replace("/edit","").replace("/:id","")}else this.parentPath=t.path}var i="".concat(this.mode,"Function");if(!this[i])throw new Error("no_action_available_for_mode_"+this.mode);this[i](this.selectedItem)},beforeRouteEnter:function(e,t,i){i((function(e){e.closeModal()}))},beforeRouteLeave:function(e,t,i){i((function(e){e.closeModal()}))},beforeDestroy:function(){document.body.classList.remove("modal-open")},methods:{$alert:r.a,startCase:n.startCase,upperFirst:function(e){return Object(n.upperFirst)(e)},refreshComponent:function(e,t){var i=this;e&&!1!==e&&(this.identity&&this.loadModel(),this.nestedElementsNeedRefresh=!0,setTimeout((function(){i.nestedElementsNeedRefresh=!1,i.$emit("update:crudNeedsRefresh",!1),i.$emit("update:needsRefresh",!1),i.$emit("input:crudNeedsRefresh",!1),i.$emit("input:needsRefresh",!1)}),100))},onTableRefresh:function(){this.statsNeedsRefresh=!0},onModeChanged:function(e,t){"create"===e&&(this.selectedItem=Object(v.createDefaultObject)(this.formSchema)),this.loadModel()},mergeOptions:function(){var e=this;this.options&&this.options.deletePermitted&&this.actions.delete&&this.$store&&this.$store.state&&!this.options.deletePermitted.some((function(t){return e.$store.state.user.roles.indexOf(t.toUpperCase())>=0}))&&(this.actions.delete=!1),this.mergedOptions=Object(n.merge)({},_,this.mergedOptions,this.options),this.$route&&this.$route.query&&this.$route.query.filters&&(this.mergedOptions.queryParams=Object(n.merge)(this.mergedOptions.queryParams||this.$route.query.filters))},loadModel:function(){var e=this;this.mergeOptions(),setTimeout((function(){e.openModalDebounced()}),100),this.mergedOptions.exportUrl||(this.mergedOptions.exportUrl="".concat(this._url,"/export")),this.mergedOptions.importUrl||(this.mergedOptions.importUrl="".concat(this._url,"/import")),this.parent&&"object"===this.nestedDisplayMode&&this.nestedViewFunction(),"bulkEdit"===this.mode||"create"===this.mode?this.selectedItem={}||Object(v.createDefaultObject)(this.formSchema):this.selectedItem=this.item,this._selectedItemUrl&&this.item&&this.item[this.primaryKey]&&this.$http.get("".concat(this._selectedItemUrl)).then((function(t){var i=e.apiResponseConfig.dataPath&&0!=e.apiResponseConfig.dataPath?Object(n.get)(t,e.apiResponseConfig.dataPath):t.data;e.selectedItem=i,e.$emit("itemFetched",e.selectedItem),e.$awEmit("item-fetched",{component:"aw-form",context:e,item:Object(n.cloneDeep)(i),identity:e.identity,parentIdentity:e.parentIdentity,parent:e.parent})})).catch(this.apiErrorCallback).finally((function(){e.isRefreshing=!1,e.$emit("input:needs-refresh",!1)}))},getShemaForFields:function(e){if(e&&e.length){var t=this.formSchema.fields.filter((function(t){return e.indexOf(t.model)>-1}));return Object(a.a)(Object(a.a)({},this.formSchema),{},{fields:t})}},getSelectEnumFromStore:function(e){return Object(n.isString)(e)&&0===e.indexOf("$store")?Object(n.get)(this.$store.state,e.replace("$store.","")):e},openModalDebounced:function(){},openModal:function(){switch(this.displayMode){case"modal":case"fade":document.body.classList.add("modal-open");break;case"slide":case"sidebar":case"sidebar-right":case"sidebar-left":case"fullscreen":document.body.classList.add("modal-open")}this.show=!0,this.showBackdrop=!0},closeModal:function(){var e=this;this.standalone||(this.parentPath&&this.useRouterMode&&this.$router.replace("".concat(this.parentPath)),this.selectedItem={},setTimeout((function(){e.show=!1,e.showBackdrop=!1}),100),document.body.classList.remove("modal-open"))},cancel:function(){this.$emit("cancel",this.item,{context:this.mode})},close:function(){this.closeModal(),this.$emit("closeRequested",this.item,{context:this.mode})},goToEditPage:function(e){if(!this._mergedOptions.editPath)return this.useRouterMode&&this.$router.push("".concat(this.parentPath,"/").concat(e[this.primaryKey],"/edit")),void this.editFunction(e);this.$router.push(this._mergedOptions.editPath.replace(":id",e[this.primaryKey]).replace("{{id}}",e[this.primaryKey]))},goToViewPage:function(e){if(!this._mergedOptions.viewPath)return this.useRouterMode&&this.$router.push({},null,"".concat(this.parentPath,"/").concat(e[this.primaryKey])),this.activeNestedTab="general",void this.viewFunction(e);this.$router.push(this._mergedOptions.viewPath.replace(":id",e[this.primaryKey]).replace("{{id}}",e[this.primaryKey]))},createItem:function(){var e=this;return Object(s.a)(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e._url){t.next=3;break}return console.warn("AWESOMECRUD ERROR:: No url for submitting"),t.abrupt("return",!1);case 3:if(!e.$refs.form){t.next=21;break}if(!(i=e.$refs.form.validate()).then){t.next=15;break}return t.prev=6,t.next=9,i;case 9:i=t.sent,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(6),i=t.t0;case 15:if(!(i&&i.length>0)){t.next=19;break}return e.$awEmit("validation-errors",{errors:i}),t.abrupt("return");case 19:t.next=22;break;case 21:console.warn("Unable to find the reference to the schema form on ",e.$route.path);case 22:return e.mergeSelectedItemWithRequestProps(),e.$awEmit("before-create",{component:"aw-form",context:e,item:e.selectedItem,identity:e.identity,parentIdentity:e.parentIdentity,parent:e.parent}),t.abrupt("return",e.$http.post(e._url,e.selectedItem).then((function(t){e.$awEmit("item-created",{component:"aw-form",context:e,item:t.data,identity:e.identity,parentIdentity:e.parentIdentity,parent:e.parent}),r.a.fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,title:e.$t("AwesomeDefault.messages.successfullyCreated",{title:e.type}),type:"success"}),e.nestedElementsNeedRefresh=!0,e.$forceUpdate(),e.close(),e.$emit("itemCreated",e.selectedItem,{context:e.mode})})).catch(e.apiErrorCallback).finally((function(){e.isRefreshing=!1,e.nestedElementsNeedRefresh=!1})));case 25:case"end":return t.stop()}}),t,null,[[6,12]])})))()},bulkEditItems:function(){var e=this;return Object(s.a)(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e._url){t.next=3;break}return console.warn("AWESOMECRUD ERROR:: No url for submitting"),t.abrupt("return",!1);case 3:if(!e.$refs.form){t.next=21;break}if(!(i=e.$refs.form.validate()).then){t.next=15;break}return t.prev=6,t.next=9,i;case 9:i=t.sent,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(6),i=t.t0;case 15:if(!(i&&i.length>0)){t.next=19;break}return e.$awEmit("validation-errors",{errors:i}),t.abrupt("return");case 19:t.next=22;break;case 21:console.warn("Unable to find the reference to the schema form on ",e.$route.path);case 22:e.bulkItems.forEach((function(t){t[e.primaryKey]&&(t=Object(n.merge)(t,e.selectedItem),e.$emit("itemsBulkEdited",t))})),e.close();case 24:case"end":return t.stop()}}),t,null,[[6,12]])})))()},editItem:function(){var e=this;return Object(s.a)(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e._url){t.next=3;break}return console.warn("AWESOMECRUD ERROR:: No url for submitting"),t.abrupt("return",!1);case 3:if(e.selectedItem[e.primaryKey]){t.next=6;break}return console.warn("AWESOMECRUD ERROR:: No primary key on this item",e.selectedItem,e.primaryKey),t.abrupt("return",!1);case 6:if(!e.$refs.form){t.next=22;break}if(!(i=e.$refs.form.validate()).then){t.next=18;break}return t.prev=9,t.next=12,i;case 12:i=t.sent,t.next=18;break;case 15:t.prev=15,t.t0=t.catch(9),i=t.t0;case 18:if(!(i&&i.length>0)){t.next=22;break}return e.$awEmit("validation-errors",{errors:i}),t.abrupt("return");case 22:if(e.mergeSelectedItemWithRequestProps(),e.$awEventBus&&e.$awEventBus.$emit("before-update",{context:e,item:e.selectedItem,identity:e.identity,parentIdentity:e.parentIdentity,parent:e.parent}),e._selectedItemUrl){t.next=26;break}return t.abrupt("return");case 26:return e.$http.put("".concat(e._selectedItemUrl),e.selectedItem).then((function(t){e.$awEmit("item-edited",{data:t.data}),r.a.fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,title:e.$t("AwesomeDefault.messages.successfullyModified",{title:e.type}),type:"success"}),e.nestedElementsNeedRefresh=!0,e.$forceUpdate(),e.$emit("itemEdited",e.selectedItem,{context:e.mode}),e.close()})).catch(e.apiErrorCallback).finally((function(){e.isRefreshing=!1,e.nestedElementsNeedRefresh=!1})),t.abrupt("return",!1);case 28:case"end":return t.stop()}}),t,null,[[9,15]])})))()},createFunction:function(e){this.$emit("create",e)},editFunction:function(e){this.activeNestedTab="general",this.$emit("edit",e)},viewFunction:function(e){this.$emit("view",e)},nestedViewFunction:function(e){this.$emit("nestedView",e),this.openModalDebounced()},deleteFunction:function(e){this.$emit("delete",e)},bulkEditFunction:function(e){this.$emit("bulkEdit",e)},getNestedItem:function(){var e=this;this.mode="view",this._selectedItemUrl&&this.$http.get("".concat(this._selectedItemUrl)).then((function(t){e.selectedItem=e.apiResponseConfig.dataPath&&0!=e.apiResponseConfig.dataPath?Object(n.get)(t,e.apiResponseConfig.dataPath):t.data.body,e.$emit("itemFfetched",e.selectedItem),e.$awEemit("item-fetched",{component:"aw-form",context:e,item:e.selectedItem,identity:e.identity,parentIdentity:e.parentIdentity,parent:e.parent})})).catch(this.apiErrorCallback).finally((function(){e.isRefreshing=!1}))},customAction:function(e){var t=e.action;return this.$emit(this.identity+"-custom-action",t),t&&t.action&&t.action(e,this)},listUpdated:function(e){this.$emit("list-updated",e),this.$emit(this.identity+"-list-updated",e)},renderSidebar:function(){},renderTabs:function(){},renderColumns:function(e){return e},renderGroup:function(){},renderForm:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]},openEditLayoutMode:function(){this.$emit("open-edit-layout-mode")},closeEditLayoutMode:function(){this.$emit("close-edit-layout-mode")},resetLayout:function(){var e={i:"awesomeForm-".concat(this.identity,"-").concat(Date.now()),x:0,y:0,w:12,h:6,maxW:12,minH:2,legend:this.identity,fields:this.formSchema.fields.map((function(e){return e.model}))};this.$emit("layout-resetted",[e])},exportLayout:function(){this.$export(this.layout)},onLayoutUpdated:function(e){this.$emit("layout-updated",e)},onLayoutFieldsUpdated:function(e){this.$emit("layout-fields-updated",e)},getNestedTabsTitle:function(e){return e.name?e.name:e.title?e.title:this.$te("awForm.labels.tabs."+e.identity)?this.$t("awForm.labels.tabs."+e.identity):this.startCase(e.identity)},getNestedActions:function(e){return Object(n.merge)({},f.a,e.actions)}}},w=(i(431),i(42)),$=Object(w.a)(C,(function(){var e,t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"content aw-form",class:"aw-form-"+t.identity},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12",class:"page"===t.displayMode?"p-0":""},[s("div",{staticClass:"text-left"},[s("div",{staticClass:"AwesomeForm",class:(e={modal:t._shouldHaveModalClasses,slide:t._shouldHaveSlideClasses,fade:"fade"===t.displayMode||"modal"===t.displayMode||"fullscreen"===t.displayMode,"page  fade":"page"===t.displayMode,show:this.show},e["display-mode-"+t.displayMode]=!0,e),attrs:{id:t.identity+"FormModal",tabindex:"-1",role:"dialog"}},[s("div",{class:{"modal-dialog":"page"!==t.displayMode,"modal-dialog-centered":"page"!==t.displayMode,"modal-dialog-scrollable":"page"!==t.displayMode,"modal-nested":t._isNested,"modal-full-height":t._shouldHaveSlideClasses,"modal-fullscreen":"fullscreen"===t.displayMode,"modal-lg":"modal"===t.displayMode||"fade"===t.displayMode},attrs:{role:"document"}},["create"===t.mode?s("div",{staticClass:"modal-content"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.createItem()}}},[t.shouldDisplayHeaderCpt?s("div",{staticClass:"modal-header bg-primary text-white"},[s("h3",{staticClass:"text-left mt-0 modal-title",attrs:{title:t.$t("AwesomeCrud.labels.add_a")+" ".title}},[t._v("\n                      "+t._s(t.$t("AwesomeCrud.labels.add_a"))+" "+t._s(t._name||t._title)+"\n                    ")]),t._v(" "),t._useCustomLayout&&t.actions.editLayout?s("div",{staticClass:"btn-group m-0 aw-form-header-actions",staticStyle:{flex:"auto"}},[!t.editLayoutMode&&t.layout?s("button",{staticClass:"btn btn-info btn-main-style mr-1 btn-sm",attrs:{type:"button"},on:{click:t.openEditLayoutMode}},[s("i",{staticClass:"fa fa-th-large"}),t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.openEditLayoutMode"))+"\n                      ")]):t._e(),t._v(" "),t.editLayoutMode&&t.layout?s("button",{staticClass:"btn btn-warning btn-main-style mr-1 btn-sm",attrs:{type:"button"},on:{click:t.exportLayout}},[s("i",{staticClass:"fa fa-download"}),t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.exportLayout"))+"\n                      ")]):t._e(),t._v(" "),t.editLayoutMode&&t.layout?s("button",{staticClass:"btn btn-danger btn-main-style mr-1 btn-sm",attrs:{type:"button"},on:{click:t.resetLayout}},[s("i",{staticClass:"fa fa-eraser"}),t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.resetLayout"))+"\n                      ")]):t._e(),t._v(" "),t.editLayoutMode&&t.layout?s("button",{staticClass:"btn btn-info btn-main-style mr-1 btn-sm",attrs:{type:"button"},on:{click:t.closeEditLayoutMode}},[s("i",{staticClass:"fa fa-save"}),t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.closeEditLayoutMode"))+"\n                      ")]):t._e()]):t._e(),t._v(" "),t.standalone||t._isEmbedded?t._e():s("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.close()}}},[s("span",{staticClass:"text-white",attrs:{"aria-hidden":"true"}},[t._v("×")])])]):t._e(),t._v(" "),s("div",{staticClass:"modal-body"},[t._t("create-form",[t._useCustomLayout?s("AwesomeLayout",{attrs:{"edit-mode":t.editLayoutMode,"fields-list":t._getFieldsList,layout:t.layout},on:{"update:layout":function(e){t.layout=e},"layout-updated":t.onLayoutUpdated,"layout-fields-updated":t.onLayoutFieldsUpdated},scopedSlots:t._u([{key:"field",fn:function(e){return[s("VueFormGenerator",{attrs:{schema:t.getShemaForFields(e.field),model:t.selectedItem,options:t.formOptions,tag:"div"}})]}},{key:"fields",fn:function(e){return[s("VueFormGenerator",{attrs:{schema:t.getShemaForFields(e.fields),model:t.selectedItem,options:t.formOptions,tag:"div"}})]}}],null,!1,3779691753)}):t._e(),t._v(" "),t.formSchema&&t.formSchema.fields&&!t._useCustomLayout?[s("VueFormGenerator",{ref:"form",attrs:{schema:t.createFormSchema,model:t.selectedItem,options:t.formOptions,tag:"div"},on:{"update:schema":function(e){t.createFormSchema=e}}})]:t._e()],{selectedItem:t.selectedItem})],2),t._v(" "),t._isEmbedded?t._e():s("div",{staticClass:"modal-footer"},[t._t("add-modal-footer",[s("button",{staticClass:"btn btn-default btn-simple mr-auto",attrs:{type:"button"},on:{click:function(e){return t.cancel()}}},[t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.cancel"))+"\n                      ")]),t._v(" "),s("button",{staticClass:"btn btn-primary ml-auto",attrs:{type:"submit"}},[t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.save"))+"\n                      ")])])],2)])]):t._e(),t._v(" "),"edit"===t.mode||"view"===t.mode||t._isANestedDetailView?s("div",{staticClass:"modal-content"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.editItem()}}},[t.shouldDisplayHeaderCpt?s("div",{staticClass:"modal-header bg-primary text-white"},["view"===t.mode||"edit"===t.mode?s("h3",{staticClass:"text-left modal-title mt-0"},[t._v("\n                      "+t._s(t.$t("view"===t.mode?"":"AwesomeCrud.labels.edit"))+" "+t._s(t._name)+"\n                      "),s("b",[t._v(t._s(t._editItemTile))])]):t._e(),t._v(" "),t.customTopActions?s("div",{staticClass:"btn-group m-0 aw-form-header-actions"},[s("AwesomeActionList",{attrs:{actions:t.customTopActions,item:t.selectedItem,parent:t.parent,location:"top"},on:{customAction:function(e){return t.$emit("customAction",e)}}})],1):t._e(),t._v(" "),t._useCustomLayout&&t.actions.editLayout?s("div",{staticClass:"btn-group m-0 aw-form-header-actions",staticStyle:{flex:"auto"}},[!t.editLayoutMode&&t.layout?s("button",{staticClass:"btn btn-info btn-main-style mr-1 btn-sm",attrs:{type:"button"},on:{click:t.openEditLayoutMode}},[s("i",{staticClass:"fa fa-th-large"}),t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.openEditLayoutMode"))+"\n                      ")]):t._e(),t._v(" "),t.editLayoutMode&&t.layout?s("button",{staticClass:"btn btn-warning btn-main-style mr-1 btn-sm",attrs:{type:"button"},on:{click:t.exportLayout}},[s("i",{staticClass:"fa fa-download"}),t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.exportLayout"))+"\n                      ")]):t._e(),t._v(" "),t.editLayoutMode&&t.layout?s("button",{staticClass:"btn btn-danger btn-main-style mr-1 btn-sm",attrs:{type:"button"},on:{click:t.resetLayout}},[s("i",{staticClass:"fa fa-eraser"}),t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.resetLayout"))+"\n                      ")]):t._e(),t._v(" "),t.editLayoutMode&&t.layout?s("button",{staticClass:"btn btn-info btn-main-style mr-1 btn-sm",attrs:{type:"button"},on:{click:t.closeEditLayoutMode}},[s("i",{staticClass:"fa fa-save"}),t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.closeEditLayoutMode"))+"\n                      ")]):t._e()]):t._e(),t._v(" "),t.editLayoutMode||"edit"!==t.mode&&"view"!==t.mode&&!t._isANestedDetailView?t._e():[t.actions.formPagination&&(t.hasPrevious||t.hasNext)?s("div",{staticClass:"ml-1 aw-form-pagination"},[s("div",{staticClass:"btn-group"},[s("button",{staticClass:"btn btn-light btn-sm float-left",class:t.hasPrevious?"":"op-50",attrs:{disabled:!t.hasPrevious,type:"button"},on:{click:function(e){t.hasPrevious&&t.$emit("aw-select-previous-item")}}},[s("i",{staticClass:"fa fa-chevron-circle-left"})]),t._v(" "),s("button",{staticClass:"btn btn-light btn-sm float-right",class:t.hasPrevious?"":"op-50",attrs:{disabled:!t.hasNext,type:"button"},on:{click:function(e){t.hasNext&&t.$emit("aw-select-next-item")}}},[s("i",{staticClass:"fa fa-chevron-circle-right"})])])]):t._e()],t._v(" "),t.standalone||t._isEmbedded?t._e():s("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:t.cancel}},[s("span",{staticClass:"text-white",attrs:{"aria-hidden":"true"}},[t._v("×")])])],2):t._e(),t._v(" "),s("div",{staticClass:"modal-body",class:{"modal-body-nested":t._isANestedDetailView,"view-mode":"view"===t.mode}},[t.nestedModels&&t.nestedModels.length&&"create"!==t.mode&&"list"!==t.nestedLayoutMode?s("ul",{staticClass:"nav nav-tabs mt-0 mb-4"},[s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",class:{active:"general"===t.activeNestedTab},attrs:{"data-toggle":"tab"},on:{click:function(e){t.activeNestedTab="general"}}},[t._v("\n                          "+t._s(t.$te("app.labels."+t.identity)?t.$te("app.labels."+t.identity):t.startCase(t.name||t.title||t.identity))+"\n                        ")])]),t._v(" "),t._l(t.nestedModels,(function(e,i){return[e&&e.identity?s("li",{key:i,staticClass:"nav-item nested-model-tab-link"},[s("a",{staticClass:"nav-link",class:{active:t.activeNestedTab===e.identity},attrs:{"data-toggle":"tab"},on:{click:function(i){t.activeNestedTab=e&&e.identity||"general"}}},[e.icon?s("i",{class:e.icon}):t._e(),t._v("\n                            "+t._s(t.$t(e.namePlural||e.title||e.identity))+"\n                          ")])]):t._e()]}))],2):t._e(),t._v(" "),t._t("edit-form",[s("div",{staticClass:"tab-content",class:{row:"sidebar"===t.nestedLayoutMode}},[t._useCustomLayout?s("div",{staticClass:"row"},[t._useCustomLayout?s("AwesomeLayout",{attrs:{"edit-mode":t.editLayoutMode,layout:t.layout,"fields-list":t._getFieldsList},on:{"update:layout":function(e){t.layout=e},"layout-updated":t.onLayoutUpdated,"layout-fields-updated":t.onLayoutFieldsUpdated},scopedSlots:t._u([{key:"field",fn:function(e){return[s("VueFormGenerator",{attrs:{schema:t.getShemaForFields(e.field),model:t.selectedItem,options:t.formOptions,tag:"div"}})]}},{key:"fields",fn:function(e){return[s("VueFormGenerator",{attrs:{schema:t.getShemaForFields(e.fields),model:t.selectedItem,options:t.formOptions,tag:"div"}})]}}],null,!1,3779691753)}):t._e()],1):t._e(),t._v(" "),t.formSchema&&t.formSchema.fields&&!t._useCustomLayout?[s("div",{staticClass:"tab-pane nested-tab fade",class:{"active show":!t.activeNestedTab||"general"===t.activeNestedTab||"list"===t.nestedLayoutMode,"card p-5 ":"list"===t.nestedLayoutMode}},[s("VueFormGenerator",{ref:"form",attrs:{schema:t.formSchema,model:t.selectedItem,options:t.formOptions,tag:"div"},on:{"update:schema":function(e){t.formSchema=e}}})],1)]:t._e(),t._v(" "),t.nestedModels&&t.nestedModels.length&&("view"===t.mode||"edit"===t.mode)&&t.selectedItem?[t._l(t.nestedModels,(function(e){return[e&&e.identity?s("div",{key:e.$id,staticClass:"tab-pane nested-tab fade",class:{"active show in":t.activeNestedTab===e.identity||"list"===t.nestedLayoutMode}},["list"===t.nestedLayoutMode?[s("h3",{staticClass:"nested-model-title mt-5 text-primary font-italic mb-0",on:{click:function(i){t.getNestedActions(e).collapse&&(t.nestedModelsCollapseState[e.identity]=!t.nestedModelsCollapseState[e.identity])}}},[t._v("\n                                  "+t._s(t.getNestedTabsTitle(e))+"\n                                  "),s("i",{staticClass:"fa",class:t.nestedModelsCollapseState[e.identity]?"fa-caret-right":"fa-caret-down"})]),t._v(" "),s("hr",{staticClass:"mt-0"})]:t._e(),t._v(" "),s(t.AwesomeCrud,t._b({tag:"div",staticClass:"aw-crud-nested-model",class:t.getNestedActions(e).collapse&&"list"===t.nestedLayoutMode?t.nestedModelsCollapseState[e.identity]?"collapse":"collapse show":"",attrs:{id:"list-collapse-"+e.identity,parent:t.selectedItem,parentIdentity:t.model&&t.model.identity||t.identity,useRouterMode:!1,"crud-needs-refresh":t.nestedElementsNeedRefresh,"needs-refresh":t.nestedElementsNeedRefresh},on:{"input:needs-refresh":function(e){return t.nestedElementsNeedRefresh=e},"input:nested-crud-needs-refresh":function(e){return t.nestedElementsNeedRefresh=e},"update:nestedElementsNeedRefresh":function(e){return t.nestedElementsNeedRefresh=e}}},"div",e,!1),[s("div",{attrs:{slot:"crud-title"},slot:"crud-title"})])],2):t._e()]}))]:t._e()],2)],{selectedItem:t.selectedItem})],2),t._v(" "),t._isEmbedded?t._e():s("div",{staticClass:"modal-footer"},[t._t("edit-modal-footer",[t.standalone?t._e():s("button",{staticClass:"btn btn-default btn-simple mr-auto",attrs:{type:"button"},on:{click:t.cancel}},[t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.cancel"))+"\n                      ")]),t._v(" "),t.customInlineActions?[s("AwesomeActionList",{attrs:{actions:t.customInlineActions,item:t.selectedItem,location:"inline"},on:{customAction:function(e){return t.$emit("customAction",e)}}})]:t._e(),t._v(" "),t.actions.delete&&!t._mergedOptions.noActions?s("button",{staticClass:"btn btn-danger btn-main-style ml-2",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.deleteFunction(t.selectedItem)}}},[s("i",{staticClass:"fa fa-trash"}),t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.delete"))+"\n                      ")]):t._e(),t._v(" "),"edit"===t.mode?s("button",{staticClass:"btn btn-primary ml-2",attrs:{type:"submit"}},[t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.save"))+"\n                      ")]):t._e(),t._v(" "),"view"===t.mode&&t.actions.edit&&!t._mergedOptions.noActions?s("button",{staticClass:"btn btn-info btn-main-style ml-2",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.editFunction(t.selectedItem)}}},[s("i",{staticClass:"fa fa-pencil"}),t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.edit"))+"\n                      ")]):t._e(),t._v(" "),"view"!==t.mode||t.standalone?t._e():s("button",{staticClass:"btn btn-primary ml-2",attrs:{type:"button"},on:{click:function(e){return t.close()}}},[t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.close"))+"\n                      ")])])],2)])]):t._e(),t._v(" "),"bulkEdit"===t.mode?s("div",{staticClass:"modal-content"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.bulkEditItems()}}},[s("div",{staticClass:"modal-header bg-primary text-white"},[s("h3",{staticClass:"text-left mt-0 modal-title",attrs:{title:t.$t("AwesomeCrud.labels.add_a")+" ".title}},[t._v("\n                      "+t._s(t.$t("AwesomeCrud.labels.add_a"))+" "+t._s(t._name||t._title)+"\n                    ")]),t._v(" "),t.standalone||t._isEmbedded?t._e():s("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.cancel()}}},[s("span",{staticClass:"text-white",attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),s("div",{staticClass:"modal-body"},[t._t("create-form",[t.formSchema&&t.formSchema.fields?[s("VueFormGenerator",{ref:"form",attrs:{schema:t.formSchema,model:t.selectedItem,options:t.formOptions,tag:"div"},on:{"update:schema":function(e){t.formSchema=e}}})]:t._e()],{selectedItem:t.selectedItem})],2),t._v(" "),t._isEmbedded?t._e():s("div",{staticClass:"modal-footer"},[t._t("add-modal-footer",[s("button",{staticClass:"btn btn-default btn-main-style mr-auto",attrs:{type:"button"},on:{click:function(e){return t.cancel()}}},[t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.cancel"))+"\n                      ")]),t._v(" "),s("button",{staticClass:"btn btn-primary ml-auto",attrs:{type:"submit"}},[t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.save"))+"\n                      ")])])],2)])]):t._e()])])]),t._v(" "),t._shouldShowBackdrop?s("div",{staticClass:"modal-backdrop backdrop-custom show",class:"display-mode-"+t.displayMode,staticStyle:{background:"#111"},attrs:{id:t.identity+"Backdrop"}}):t._e()])])])])}),[],!1,null,"d9f0b688",null);t.a=$.exports},375:function(e,t,i){var s=i(25),a="["+i(332)+"]",n=RegExp("^"+a+a+"*"),o=RegExp(a+a+"*$"),r=function(e){return function(t){var i=String(s(t));return 1&e&&(i=i.replace(n,"")),2&e&&(i=i.replace(o,"")),i}};e.exports={start:r(1),end:r(2),trim:r(3)}},376:function(e,t,i){var s=i(5),a=i(103);e.exports=function(e,t,i){var n,o;return a&&"function"==typeof(n=t.constructor)&&n!==i&&s(o=n.prototype)&&o!==i.prototype&&a(e,o),e}},378:function(e,t,i){var s=i(8),a=i(49),n=i(15),o=i(74).f,r=function(e){return function(t){for(var i,r=n(t),l=a(r),d=l.length,c=0,u=[];d>c;)i=l[c++],s&&!o.call(r,i)||u.push(e?[i,r[i]]:r[i]);return u}};e.exports={entries:r(!0),values:r(!1)}},380:function(e,t,i){"use strict";i(47),i(48),i(170),i(309),i(97),i(169),i(99),i(10),i(43),i(316),i(98),i(29);var s=i(310),a=i(306),n=i.n(a),o=i(334);t.a={mxixins:[o.a],methods:{getFormtype:function(e){var t=e.type;if(Array.isArray(t))for(var i=["string","number","boolean"],s=0;s<i.length;s++)e.type.indexOf(i[s])>-1&&(t=i[s]);if(e.enum)return"select";if(e.relation||e.relationUrl)return"VSelect";switch(t){case"string":return"input";case"integer":case"number":return"input";case"boolean":return"select";default:return"input"}},getFormInputType:function(e){var t=e.type;if(Array.isArray(t))for(var i=["string","number","boolean"],s=0;s<i.length;s++)e.type.indexOf(i[s])>-1&&(t=i[s]);switch(t){case"string":switch(e.format){case"email":return"email";case"date-time":return"datetime";default:return"text"}case"number":case"integer":return"number";case"boolean":case"array":case"object":return"string";default:return t}},getColumnType:function(e){if(e.column&&e.column.type)return e.column.type;if(e.columnType)return e.columnType;var t=e.type;if(Array.isArray(t))for(var i=["string","number","boolean"],s=0;s<i.length;s++)e.type.indexOf(i[s])>-1&&(t=i[s]);if(e.relation)return"relation";switch(t){case"string":switch(e.format){case"date-time":default:return"text"}case"number":case"integer":return"number";case"boolean":return"boolean";case"array":case"object":return"object";default:return"text"}},transformStateBooleans:function(e){var t=this;["visible","required","readonly","disabled"].forEach((function(i){n.a.isString(e[i])&&(e[i]=t.templateParseBoolean(e[i]))}))},transformStateFunctions:function(e){var t=this;["visible","required","readonly","disabled"].forEach((function(i){n.a.isFunction(e[i])&&(e[i]=t.templateParseFunc(e[i]))}))},parseSchema:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e.properties)return{title:e.title,default:{}};if(!i||!e.$schema){var a=[],o=Object.keys(e.properties).length;return Object.keys(e.properties).forEach((function(r){var l=e.properties[r];if(l.field||(l.field={}),l.field.hidden)console.warn("hidden is @deprecated, please use visible: false");else if(0!=l.field.visible&&0!=l.field.visible)if("object"!==l.type||l.field.type){var d=t.getRelationUrl(l),c=t.getRelationKey(l),u=t.getRelationLabel(l);l.relation&&l.field.fieldOptions&&(l.field.fieldOptions.url=d||l.relationUrl||l.relation,l.field.fieldOptions.trackBy=c||l.foreignKey,l.field.fieldOptions.searchable=!0);var m=Object(s.a)(Object(s.a)({type:l.field.type||t.getFormtype(l),label:l.title||l.description||n.a.startCase(r),placeholder:l.placeholder,fieldOptions:l.field.fieldOptions||{url:d||l.relationUrl||l.relation,trackBy:c||l.foreignKey||"id",label:u||"label",name:u||"label",step:l.field.step,readonly:"view"===t.displayMode||l.field.readonly,disabled:"view"===t.displayMode||l.field.disabled,relation:l.relation,foreignKey:c,relationKey:c,relationLabel:u,relationUrl:d},values:l.field.fieldOptions&&(l.field.fieldOptions.values||t.getSelectEnumFromStore(l.field.fieldOptions.enum))||l.enum||l.items&&l.items.enum||[],hint:l.description,model:i+r,min:l.min,max:l.max,multi:"array"===l.type,styleClasses:l.field.classes||l.field.styleClasses||(t.layout||o<8?"col-12":"col-6"),relation:l.relation,foreignKey:c||l.foreignKey,relationKey:c,relationLabel:u},l.field),{},{readonly:"view"===t.displayMode||l.field.readonly,disabled:"view"===t.displayMode||l.field.disabled});m.fieldOptions.inputType||(m.fieldOptions.inputType=l.field.inputType||t.getFormInputType(l)||"text"),"boolean"!==l.type||"select"!==m.type&&"enyoSelect"!==m.type||m.values&&m.values.length||(m.values=[{id:!0,label:"Yes"},{id:!1,label:"No"},{id:"",label:"-"}]),"dateTime"!==m.type&&"date"!==m.type||(m.fieldOptions.icons={time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-arrow-up",down:"fa fa-arrow-down"}),"date"===m.type&&(m.type="dateTime",m.fieldOptions.type||(m.fieldOptions.type="date")),"time"===m.type&&(m.type="dateTime",m.fieldOptions.type||(m.fieldOptions.type="time")),"enyoSelect"!==m.type||m.fieldOptions.options||(m.options=m.values),t.transformStateBooleans(m),t.transformStateFunctions(m),m.required&&(m.validator||(m.validator=[]),"string"==typeof m.validator&&(m.validator=[m.validator]),m.required&&m.validator.push("required")),m.viewOptions&&!m.displayOptions&&(console.warn("@deprecated, please rename field.viewOptions into field.displayOptions"),m.viewOptions=m.displayOptions),m.displayOptions=l.field.displayOptions||Object(s.a)(Object(s.a)({},l.column),{},{hidden:void 0,type:t.getColumnType(l),classes:l.column&&l.column.classes,styles:l.column&&l.column.styles}),m.displayOptions.relation=m.displayOptions.relation||l.relation,m.displayOptions.relationUrl=m.displayOptions.relationUrl||d,m.displayOptions.relationKey=m.displayOptions.relationKey||c,m.displayOptions.relationLabel=m.displayOptions.relationLabel||u,a.push(m)}else{var h=t.parseSchema(l,"".concat(i).concat(r,"."));h.legend=l.title||n.a.startCase(r),h.type="group",h.default={},h.id=r,h.styleClasses="subgroup  ".concat(l.field.styleClasses||"card"),a.push(h)}})),{fields:a}}},parseColumns:function(e){var t=this,i=[];return Object.keys(e).forEach((function(a){var o={},r=e[a];r.hidden||r.column&&r.column.hidden||(o.field=a,o.type=t.getColumnType(r),o.label=n.a.startCase(r.column&&r.column.title||r.title||a),o.filterOptions={enabled:!1},o.enum=r.column&&r.column.enum||r.enum,o.sortable=!r.column||void 0===r.column.sortable||r.column.sortable,o=Object(s.a)(Object(s.a)({},o),r.column),r.relation&&(o.relation=r.relation,o.relationKey=t.getRelationKey(r),o.relationUrl=t.getRelationUrl(r),o.relationLabel=t.getRelationLabel(r)),i.push(o))})),i.find((function(e){return"__ACTIONS"===e.field}))||i.push({field:"__ACTIONS",label:"Actions",type:"ACTIONS",filterable:!1,enabled:!1}),i},parseSchemaGroups:function(e){var t=this,i=[];return e.formGroups?(e.formGroups.forEach((function(e){i[e.id]||i.push(Object(s.a)(Object(s.a)({fields:[]},e),{},{legend:t.$t(e.title),id:e.id,type:"group"}))})),i.length<1&&(i=[{legend:"",fields:e.fields}]),i):{}},distributeFieldsInGroups:function(e,t){return t.forEach((function(t){if(t.group){var i=t.group.split("."),s={groups:e};i.forEach((function(e){s=n.a.find(s.groups,{id:e})})),s&&(s.fields||(s.fields=[]),s.fields.push(t))}})),e}}}},381:function(e,t,i){"use strict";t.a={props:{nestedDisplayMode:{type:String,required:!1,default:"table",values:["view","edit","object","table"],note:"In case of a nested schema, this parameter determines whether the component should be rendered as a list or a form"}},computed:{_isNested:function(){return this.parent},_isEmbedded:function(){return this._isNested&&("view"===this.nestedDisplayMode||"edit"===this.nestedDisplayMode)},_isANestedDetailView:function(){return this._isNested&&(this.selectedItem&&this.selectedItem[this.primaryKey]||"view"===this.nestedDisplayMode||"edit"===this.nestedDisplayMode)},_isNestedCreate:function(){return this._isNested&&this.selectedItem&&"create"===this.viewMode},_noFormActions:function(){return this._isNested&&("view"===this.nestedDisplayMode||"edit"===this.nestedDisplayMode)}},methods:{}}},384:function(e,t,i){var s=i(2),a=i(332);e.exports=function(e){return s((function(){return!!a[e]()||"​᠎"!="​᠎"[e]()||a[e].name!==e}))}},396:function(e,t,i){"use strict";i(331);var s=i(307),a=i(558),n={name:"AwesomeLayout",components:{},mixins:[s.a],props:{layout:{type:Array,required:!0},editMode:{type:Boolean,default:function(){return!1}},fieldsList:{type:Array,required:!1,default:function(){return[]},note:"An array describing the data that is linked to the nested model. Serves for displaying a detailed object"}},data:function(){return{verticalCompact:!0,height:2,newBlock:{x:0,y:0,w:6,h:6,maxW:12,minH:2,fields:[]}}},methods:{onLayoutUpdated:function(e){this.$emit("layout-updated",e)},fieldChanged:function(e){this.$emit("layout-fields-updated",e)},addItemToGrid:function(){var e=Object.assign([],this.layout);e.push({x:3*this.layout.length%12,y:this.layout.length+12,w:3,h:3,i:"aw-layout-item-".concat(Object(a.a)()),fields:[]}),this.$emit("layout-updated",e)},removeItemFromGrid:function(e){var t=Object.assign([],this.layout);t[e]&&t[e].fields&&t[e].fields.length?this.$awNotify({title:this.$t("AwesomeLayout.messages.emptyBlockBeforeDelete"),type:"warning"}):(t.splice(e,1),this.$emit("layout-updated",t))}},computed:{isDraggable:function(){return this.editMode},isResizable:function(){return this.editMode}},created:function(){this.$root.$options.components.draggable||console.error("`Draggable` is missing. Please download vuedraggable and register the component globally!"),this.$root.$options.components.GridLayout||console.error("`GridLayout` is missing. Please download vue-grid-layout and register the component globally!"),this.$root.$options.components.GridItem||console.error("`GridItem` is missing. Please download vue-grid-layout and register the component globally!")},mounted:function(){},watch:{}},o=(i(430),i(42)),r=Object(o.a)(n,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"awesome-layout"},[i("grid-layout",{attrs:{layout:e.layout,"col-num":12,"row-height":80,"is-draggable":e.isDraggable,"is-resizable":e.isResizable,"vertical-compact":e.verticalCompact,margin:[10,10],"use-css-transforms":!0},on:{"update:layout":function(t){e.layout=t},"layout-updated":e.onLayoutUpdated}},e._l(e.layout,(function(t,s){return i("grid-item",{key:t.i,staticClass:"item",attrs:{x:t.x,y:t.y,w:t.w,h:t.h,i:t.i||s,maxW:12,minH:3,dragIgnoreFrom:"a, button, .form-element, .draggable-item"}},[i("div",{class:e.editMode?"awesome-layout-list card card-primary p-0":"p-0"},[t.legend||e.editMode?i("div",{staticClass:"draggable-header bg-primary"},[i("div",{staticClass:"legend"},[e.editMode?i("i",{staticClass:"fa fa-pencil"}):e._e(),e._v(" "),e.editMode?i("input",{directives:[{name:"model",rawName:"v-model",value:t.legend,expression:"item.legend"}],staticClass:"form-control ml-2 aw-layout-legend-input",attrs:{type:"text"},domProps:{value:t.legend},on:{input:function(i){i.target.composing||e.$set(t,"legend",i.target.value)}}}):i("p",[e._v(e._s(t.legend))])]),e._v(" "),e.editMode?i("a",{on:{click:function(t){return e.removeItemFromGrid(s)}}},[i("i",{staticClass:"fa fa-trash"})]):e._e()]):e._e(),e._v(" "),i("div",{staticClass:"item-draggable"},[i("Draggable",{staticClass:"draggable-list",attrs:{list:t.fields,group:"fields",disabled:!e.editMode,"ghost-class":"moving-card"},on:{change:e.fieldChanged}},[e.editMode?e._l(t.fields,(function(t,s){return i("div",{key:s},[i("div",{class:e.editMode?"draggable-item card":""},[i("div",{class:e.editMode?"card-body p-2":""},[e._t("field",[e._v(e._s(t))],{field:t})],2)])])})):e._e(),e._v(" "),e.editMode?e._e():[e._t("fields",[e._v("\n                "+e._s(t.fields)+"\n              ")],{fields:t.fields})]],2),e._v(" "),t.layout?i("div",[i("AwesomeLayout",{attrs:{"edit-mode":e.editMode,layout:t.layout},on:{"update:layout":function(i){return e.$set(t,"layout",i)},"layout-updated":e.onLayoutUpdated,change:e.fieldChanged},scopedSlots:e._u([{key:"field",fn:function(t){var s=t.field;return i("div",{},[!e.editMode&&s?e._t("field",[e._v("\n                  "+e._s(s)+"\n                ")],{fields:s}):e._e()],2)}},{key:"fields",fn:function(t){var s=t.fields;return i("div",{},[!e.editMode&&s?[e._t("fields",[e._v("\n                    "+e._s(s)+"\n                  ")],{fields:s})]:e._e()],2)}}],null,!0)})],1):e._e()],1)])])})),1),e._v(" "),e.editMode?i("section",{staticClass:"awesome-layout-actions"},[i("button",{staticClass:"btn btn-primary btn-add-item ",attrs:{type:"button"},on:{click:function(t){return e.addItemToGrid()}}},[i("i",{staticClass:"fa fa-plus"})]),e._v(" "),i("Draggable",{staticClass:"draggable-list",attrs:{group:"fields","ghost-class":"moving-card",list:e.fieldsList},on:{change:e.fieldChanged}},e._l(e.fieldsList,(function(t,s){return i("div",{key:s},[i("div",{staticClass:"draggable-item card"},[i("div",{staticClass:"card-body p-2"},[e._v("\n            "+e._s(t.model||t.label||t.title||t)+"\n          ")])])])})),0)],1):e._e()],1)}),[],!1,null,"ad9a46aa",null);t.a=r.exports},397:function(e,t,i){"use strict";i(24),i(97),i(169),i(69),i(45),i(308),i(99),i(98);var s=i(401),a=i.n(s),n=i(466),o=i.n(n),r=i(306),l=i.n(r),d=i(313),c=i(307),u=i(333),m=i(358),h=i(315),p=i(326),f=i(322),y=i(383),g=i(334),b={name:"AwesomeList",token:"\n\n  ",components:{Paginate:o.a,AwesomeDisplay:p.a,AwesomeFilter:f.a,popper:a.a,AwesomeSegments:y.a},mixins:[c.a,d.a,u.a,m.a,h.a,g.a],props:{columns:{type:Array,default:function(){return[]}},perRow:{type:Number,default:3},perPage:{type:Number,default:6},useGridSystem:{type:Boolean,default:!0},showHeader:{type:Boolean,default:!0},gridModeItemHeight:{type:[Number,String],default:void 0},listModeItemHeight:{type:[Number,String],default:void 0},imageField:String,titleField:String,subtitleField:String,descriptionField:String,displayFields:Array,translations:{type:Object,default:function(){return{"AwesomeList.buttons.increase":"More items per row","AwesomeList.buttons.decrease":"Less items per row","AwesomeList.buttons.refresh":"Refresh","AwesomeList.buttons.itemAction":"Open"}}},styles:{type:Object,default:function(){return{}}},imageClasses:{type:[Object,String],default:""},imageStyles:{type:[Object,String],default:""},actions:{type:Object,default:function(){return{itemButton:!0,refresh:!0,itemsPerRow:!0,pagination:!0}}},defaultOptions:{type:Object,default:function(){return{fixedHeader:!1,maxHeight:"",pagination:!0,customInlineActions:[],customBulkActions:[]}}},model:{type:Object,required:!1,default:void 0,note:"The object that will be used for managing the component. it contains the schema along with some other options. If no provided i can be reconstructed if we have the schema prop."}},data:function(){return{itemsPerRow:3,page:0,data:[],advancedFilters:[],search:""}},computed:{_listTitle:function(){return this.title?this.$te(this.title)?this.$t(this.title):this.title:this._model&&this._model.singularName?this.$te(this._model.singularName)?this.$t(this._model.singularName):l.a.startCase(this._model.singularName):this.identity?this.$te("app.labels.".concat(this.identity))?this.$t("app.labels.".concat(this.identity)):l.a.startCase(this.identity):""},_itemHeight:function(){var e=1===this.itemsPerRow?this.listModeItemHeight:this.gridModeItemHeight;return e?l.a.isString(e)?e:e+"px":"auto"},_pageCount:function(){var e=parseInt(this.serverParams.perPage)||this.perPage;return e&&this.totalCount?Math.ceil(this.totalCount/e):0},itemWrapperClasses:function(){if(!this.useGridSystem)return"";switch(this.itemsPerRow){case 0:case 1:default:return"col-12";case 2:return"col-6";case 3:return"col-4";case 4:return"col-3";case 5:case 6:return"col-2"}},_paginatedItems:{get:function(){var e=this.serverParams&&this.serverParams.page?this.serverParams.page:1,t=parseInt(this.serverParams.perPage)||this.perPage,i=(e-1)*t;return this.data?"remote"===this.mode?this.data:this.data.slice(i,i+t):[]},set:function(e){console.warn(e)}},_useClassicLayout:function(){return this.imageField||this.titleField||this.subtitleField||this.descriptionField},advancedFiltersCount:function(){return this.advancedFilters&&this.advancedFilters.length||0},advancedFiltersFormated:function(){return f.a.methods.parseFilter(this.advancedFilters,{dispatch:!1})},_modelDisplayField:function(){return this._model&&this._model.displayField?this._model.displayField:this.primaryKey?this.primaryKey:""},_model:function(){return this.model||this.getModelFromStore(this.identity)}},watch:{perRow:"resetItemsPerRow",rows:"refreshLocalData",search:function(e){this.onSearch({searchTerm:e})}},created:function(){},beforeMount:function(){},mounted:function(){this.perRow&&this.resetItemsPerRow(),this.refreshLocalData()},beforeDestroy:function(){},methods:{getAllowedFields:function(e){var t=this,i={};return Object.keys(e).forEach((function(s){t.columns.forEach((function(t){t.field===s&&(i=Object.assign(i,l.a.pick(e,[s])))}))})),i},getField:function(e){var t=l.a.filter(this.columns,["field",e]);return t[0]?t[0]:t},getFieldType:function(e){var t=l.a.filter(this.columns,["field",e]);return t[0]?t[0]:t},resetItemsPerRow:function(){this.itemsPerRow=this.perRow},increaseItemsPerRow:function(e){this.itemsPerRow+=e},decreaseItemsPerRow:function(e){this.itemsPerRow-=e},setGridMode:function(){this.itemsPerRow=3},setListMode:function(){this.itemsPerRow=1},setMediumGridMode:function(){this.itemsPerRow=2},handleItemClick:function(e,t){this.$emit("itemClicked",t)},handleItemButtonClick:function(e,t){this.$emit("itemButtonClicked",t)},onPaginationChange:function(e){this.serverParams.page=e,"remote"===this.mode&&this.getItems()},advancedFiltering:function(e,t){this.$refs.filterPopover.doClose(),this.updateParams({advancedFilters:l.a.cloneDeep(t),parsedAdvancedFilters:l.a.cloneDeep(e),page:0}),this.getItems({useSkeleton:!0})},toggleFilter:function(){var e=this;this.filterable=!this.filterable,this.filterable||(this.serverParams||(this.serverParams={}),this.serverParams.range={},this.serverParams.filters={},this.getItems({useSkeleton:!0})),this.columns=this.columns.map((function(t){return t.filterOptions&&(t.filterOptions.enabled=e.filterable),t}))},getItemAtPath:function(e,t){if(t&&t.indexOf("{{")>-1&&t.indexOf("}}")>-1){var i=this.templateParseText(t,{currentItem:e});return["p","br","hr","div","span","img","label","ul","li","pre"].forEach((function(e){})),i}return l.a.get(e,t)}}},v=(i(432),i(42)),_=Object(v.a)(b,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"aw-list"},[i("div",{staticClass:"float-left col-6 pl-0"},[e._t("list-header-left",[e.segment?i("div",{staticClass:"card aw-segment-table-wrapper"},[i("awesome-segments",{attrs:{field:e.segment},on:{change:e.onSegmentChange}})],1):e._e()])],2),e._v(" "),i("div",{staticClass:"float-right text-right col-6 pr-0"},[e._t("list-header-right")],2),e._v(" "),i("div",{staticClass:"aw-list-card aw-list-component awesome-list"},[e.showHeader?i("div",{class:"aw-list-header "+(e.opts.headerStyle?"colored-header bg-"+e.opts.headerStyle:"")},[i("h4",{},[e._t("aw-list-title",[e._v(e._s(e._listTitle))]),e._v(" "),e.actions&&e.actions.refresh?i("button",{staticClass:"btn btn-simple",on:{click:function(t){return e.getItems()}}},[i("i",{staticClass:"fa fa-refresh",class:e.isRefreshing?" fa-spin text-primary":""})]):e._e()],2),e._v(" "),i("p",{staticClass:"card-category"},[e._t("list-subtitle")],2),e._v(" "),i("div",{staticClass:"card-body"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-6"},[i("div",{staticClass:"btn-group btn-group-sm float-right aw-list-buttons"},[e._t("table-top-actions"),e._v(" "),i("div",{staticClass:"btn-group",attrs:{role:"group"}},[e.actions.filter&&e.actions.advancedFiltering?i("popper",{ref:"filterPopover",attrs:{trigger:"clickToOpen",options:{placement:"bottom",modifiers:{offset:{offset:"0,10px"}}}}},[i("button",{staticClass:"btn btn-simple dropdown-toggle",class:{"btn-primary":e.advancedFiltersCount,"btn-default":!e.advancedFiltersCount},attrs:{slot:"reference",type:"button"},slot:"reference"},[i("i",{staticClass:"fa fa-filter"}),e._v("\n               "+e._s(e.$t("AwesomeTable.buttons.filters"))+"\n               "+e._s(e.advancedFiltersCount?"("+e.advancedFiltersCount+")":"")+"\n             ")]),e._v(" "),i("div",{staticClass:"popper card mt-0",staticStyle:{"z-index":"1"}},[i("awesome-filter",{staticClass:"card-body",attrs:{"edit-filters":"",id:"advancedFilterComponentDisplay",fields:e.columns,"advanced-filters":e.advancedFilters},on:{"update-filter":e.advancedFiltering}})],1)]):e._e(),e._v(" "),e.actions&&e.actions.itemsPerRow?[i("button",{staticClass:"btn ",class:1===e.itemsPerRow?"btn-primary":"btn-light",on:{click:function(t){return e.setListMode()}}},[i("i",{class:"fa fa-list"})]),e._v(" "),i("button",{staticClass:"btn",class:2===e.itemsPerRow?"btn-primary":"btn-light",on:{click:function(t){return e.setMediumGridMode()}}},[i("i",{class:"fa fa-th-large"})]),e._v(" "),i("button",{staticClass:"btn",class:3===e.itemsPerRow?"btn-primary":"btn-light",on:{click:function(t){return e.setGridMode()}}},[i("i",{class:"fa fa-th"})])]:e._e(),e._v(" "),i("div",{staticClass:"btn-group",attrs:{role:"group"}},[e.actions&&(e.actions.export||e.actions.import)?i("button",{staticClass:"btn btn-secondary btn-simple dropdown-toggle",attrs:{id:"dropdownMenuButton",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[i("i",{staticClass:"fa fa-plus"}),e._v("\n               "+e._s(e.$t("AwesomeTable.more"))+"\n             ")]):e._e(),e._v(" "),i("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e._t("table-top-more-actions"),e._v(" "),e.actions&&e.actions.export?i("button",{staticClass:"btn btn-success btn-simple btn-block",on:{click:e.exportCallBack}},[i("i",{staticClass:"fa fa-file-excel"}),e._v("\n                 "+e._s(e.$t("common.buttons.excel"))+"\n               ")]):e._e(),e._v(" "),i("button",{staticClass:"btn btn-default btn-simple btn-block",on:{click:e.exportCurrentArrayToExcel}},[i("i",{staticClass:"fa fa-file-excel"}),e._v("\n                 "+e._s(e.$t("common.buttons.excel-currentpage"))+"\n               ")])],2)])],2)],2)]),e._v(" "),i("div",{staticClass:"col-sm-6"},[e.actions.filter?i("awesome-filter",{attrs:{"display-filters":"",fields:e.columns,"advanced-filters":e.advancedFilters},on:{"update-filter":e.advancedFiltering}}):e._e(),e._v(" "),e.actions.search?i("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Rechercher"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}):e._e()],1)])])]):e._e(),e._v(" "),e._paginatedItems?i("div",{staticClass:"list-responsive",class:e.styles.listWrapperClasses},e._l(e._paginatedItems,(function(t,s){return i("div",{key:s,staticClass:"pointer d-flex",class:e.itemWrapperClasses,on:{click:function(i){return e.handleItemClick(i,t)}}},[e._t("list-item",[i("div",{staticClass:"card mb-3 aw-list-item flex-fill",style:{"flex-direction":e.itemsPerRow<2?"row":"column",height:e._itemHeight}},[e.imageField?i("img",{staticClass:"card-img-top",class:e.imageClasses,style:e.imageStyles,attrs:{src:e.getItemAtPath(t,e.imageField),alt:e.getItemAtPath(t,e.titleField)}}):e._e(),e._v(" "),i("div",{staticClass:"card-body"},[e.getItemAtPath(t,e.titleField)?i("h4",{staticClass:"card-title aw-list-item-title",domProps:{innerHTML:e._s(e.getItemAtPath(t,e.titleField))}}):e._e(),e._v(" "),e.getItemAtPath(t,e.subtitleField)?i("h6",{staticClass:"card-title aw-list-item-subtitle",domProps:{innerHTML:e._s(e.getItemAtPath(t,e.subtitleField))}}):e._e(),e._v(" "),!e._useClassicLayout&&e._modelDisplayField&&t[e._modelDisplayField]?i("h3",{staticClass:"card-title aw-list-item-title"},[e._v("\n               "+e._s(t[e._modelDisplayField]))]):e._e(),e._v(" "),e.getItemAtPath(t,e.descriptionField)?i("p",{staticClass:"card-text aw-list-item-description"},[i("AwesomeDisplay",e._b({attrs:{value:e.getItemAtPath(t,e.descriptionField)}},"AwesomeDisplay",e.getField(e.descriptionField),!1))],1):e._e(),e._v(" "),e.columns&&e.columns.length&&!e._useClassicLayout?e._l(e.getAllowedFields(t),(function(t,s){return i("div",{key:s},[i("small",{staticClass:"aw-list-item-field-label text-info"},[e._v(e._s(e.getField(s).label||s))]),i("br"),e._v(" "),i("AwesomeDisplay",e._b({attrs:{value:t,relation:e.getField(s).relation,"relation-label":e.getField(s).relationLabel,"relation-url":e.getField(s).relationUrl,"relation-key":e.getField(s).relationKey}},"AwesomeDisplay",e.getField(s),!1))],1)})):e._e(),e._v(" "),e.actions.itemButton?i("div",{staticClass:"aw-list-item-action pl-3 pr-3"},[i("button",{staticClass:"btn btn-primary btn-sm ",class:e.itemsPerRow>1?"btn-block":"",on:{click:function(i){return e.handleItemButtonClick(i,t)}}},[e._v("\n                 "+e._s(e.$t("AwesomeList.buttons.itemAction"))+"\n               ")])]):e._e()],2)])],{item:t,"itemsPerRow:":"itemsPerRow",index:s})],2)})),0):e._e(),e._v(" "),e.actions.paginate?i("hr"):e._e(),e._v(" "),e.actions.paginate?i("nav",{staticClass:"text-center"},[i("paginate",{attrs:{"page-count":e._pageCount,"page-range":3,"margin-pages":2,"click-handler":e.onPaginationChange,"prev-text":"<< ","next-text":" >>","container-class":"pagination","page-class":"page-item","prev-class":"page-item","page-link-class":"page-link","prev-link-class":"page-link","next-link-class":"page-link"},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1):e._e()])])}),[],!1,null,null,null);t.a=_.exports},430:function(e,t,i){"use strict";var s=i(359);i.n(s).a},431:function(e,t,i){"use strict";var s=i(360);i.n(s).a},432:function(e,t,i){"use strict";var s=i(361);i.n(s).a},433:function(e,t,i){"use strict";var s=i(362);i.n(s).a},434:function(e,t,i){"use strict";var s=i(363);i.n(s).a},435:function(e,t,i){"use strict";var s=i(364);i.n(s).a}}]);